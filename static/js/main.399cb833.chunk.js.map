{"version":3,"sources":["components/navbar.jsx","services/httpServices.js","services/moviesServices.js","services/genresServices.js","components/common/pagination.jsx","components/common/listGenres.jsx","components/common/config.jsx","components/tableHeader.jsx","components/common/likeComponent.jsx","components/tableBody.jsx","components/moviesTable.jsx","components/common/searchbox.jsx","components/movies.jsx","components/customer.jsx","components/rentals.jsx","components/notfound.jsx","components/common/input.jsx","components/common/groupselect.jsx","components/common/form.jsx","components/movieform.jsx","services/authServices.js","components/loginform.jsx","services/userServices.js","components/registerForm.jsx","components/logout.jsx","components/common/protectedRoute.jsx","App.js","serviceWorker.js","index.js"],"names":["NavBar","props","user","className","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","to","Fragment","name","axios","interceptors","response","use","error","status","toast","Promise","reject","request","console","log","headers","get","post","put","delete","setJwt","jwt","defaults","common","getMovies","http","config","apiEndpoint","getMovie","movieid","deleteMovie","saveMovie","movie","_id","getGenres","Pagination","pagecount","currentpage","onClick","pages","i","push","map","p","key","ListGenres","genres","selectedgenre","genre","style","cursor","colums","path","label","TableHeader","raiseSort","sortpath","order","onSort","renderSortIcon","colum","renderCheckbox","onChange","onDeleteAll","checked","deleteall","deletedmovies","length","onDeleteMulti","this","color","isAdmin","colSpan","scope","Component","Like","isLike","TableBody","extraColums1","content","value","onCheck","includes","extraColums","onLike","onDelete","filter","c","renderCell","linkto","title","_","movies","MoviesTable","SearchBox","e","currentTarget","placeholder","Movies","state","searchQuery","deletedMovies","handleDelete","a","originalMovies","setState","alert","handleLike","currentMovie","index","indexOf","handlePageChang","paginate","sindex","slice","handleGenreChange","filterMovie","filteringmovies","filtered","toLowerCase","orderBy","handleSort","getPageCount","data","Math","trunc","handleMovieSelected","history","handleSearch","query","handleCheck","m","handelDeleteAll","handleDeleteMulti","allMovies","filteredMovies","totalPage","itemCount","marginTop","marginBottom","itemcount","Customers","location","queryString","parse","search","city","Rentals","notFound","Input","rest","htmlFor","GroupSelect","items","disabled","item","Form","styles","maxWidth","margin","validate","Joi","schema","abortEarly","details","message","reduce","obj","handleSubmit","preventDefault","result","errors","Object","keys","doSubmit","validateProperty","input","handleChange","errorMessage","renderButton","renderInput","readonly","readOnly","renderGroupSelect","MovieForm","genreId","numberInStock","dailyRentalRate","any","string","required","number","min","max","match","params","replace","onSubmit","login","email","password","localStorage","setItem","getCurrentUser","getItem","jwtDecode","LoginForm","username","window","from","pathname","register","Register","Logout","removeItem","ProtectedRoute","component","render","App","exact","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.399cb833.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NavBar = props => {\r\n    const {user} = props;\r\n    return ( \r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n        <a className=\"navbar-brand\" href=\"#\">Vidly</a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n            <div className=\"navbar-nav\">\r\n                <Link className=\"nav-item nav-link\" to =\"/movies\">Movies</Link>\r\n                <Link className=\"nav-item nav-link\" to =\"/customers\">Customers</Link>\r\n                <Link className = 'nav-item nav-link' to='rentals'>Rentals</Link>\r\n                {user&&\r\n                <React.Fragment>\r\n                <Link className=\"nav-item nav-link\" to =\"/profile\">{user.name}</Link>\r\n                <Link className=\"nav-item nav-link\" to =\"/logout\">Logout</Link>\r\n                </React.Fragment>}\r\n                {(!user)&&\r\n                <React.Fragment>\r\n                <Link className=\"nav-item nav-link\" to =\"/login\">Login</Link>\r\n                <Link className=\"nav-item nav-link\" to =\"/register\">Register</Link>\r\n                </React.Fragment>}\r\n            </div>\r\n        </div>\r\n        </nav>\r\n     );\r\n}\r\n \r\nexport default NavBar;","import axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\n\r\naxios.interceptors.response.use(null, error=>{\r\n    const ex = error.response&&\r\n    error.response.status>=400&& \r\n    error.response.status<500;\r\n    if(!ex){\r\n      toast.error('unexpected error occured');\r\n    }\r\n    return Promise.reject(error);\r\n  \r\n  })\r\n  axios.interceptors.request.use(null, error=>{\r\n    console.log(error, axios.request.headers);\r\n    return Promise.reject(error);\r\n  \r\n  })\r\nfunction setJwt(jwt) {\r\n  axios.defaults.headers.common['x-auth-token'] = jwt;\r\n}\r\nexport default {\r\n    get: axios.get,\r\n    post: axios.post,\r\n    put: axios.put,\r\n    delete: axios.delete,\r\n    setJwt\r\n}","import http from './httpServices';\r\nimport config from '../config/config.json';\r\n\r\nexport const getMovies=  ()=>{\r\n    return  http.get(config.apiEndpoint+'movies');\r\n}\r\nexport const getMovie = movieid =>{\r\n    return http.get(config.apiEndpoint+'movies/'+ movieid);\r\n}\r\nexport const deleteMovie= movieid =>{\r\n    return http.delete(config.apiEndpoint +'movies/'+ movieid);\r\n}\r\nexport const saveMovie = movie=>{\r\n    const movieid = movie._id;\r\n    delete movie._id;\r\n    if(movieid!=='') {\r\n        return http.put(config.apiEndpoint+'movies/'+movieid, movie);\r\n    }\r\n    return http.post(config.apiEndpoint + 'movies', movie);\r\n\r\n}","import http from './httpServices';\r\nimport config from '../config/config.json';\r\n\r\nexport default function getGenres() {\r\n    return http.get(config.apiEndpoint+'genres');\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nconst Pagination = ({pagecount,currentpage,onClick}) => {\r\n    if (pagecount ===1) return null;\r\n    const pages = [];\r\n    for(let i = 0; i<pagecount; i++) pages.push(i+1);\r\n    return (\r\n        <nav aria-label=\"...\">\r\n        <ul className=\"pagination\">\r\n            {pages.map(p =><li \r\n            onClick = {()=>onClick(p)} \r\n            key = {p} \r\n            className = {p===currentpage?\r\n            'page-item active':'page-item'}>\r\n                <a className=\"page-link\">{p}</a></li>)}\r\n        </ul>\r\n        </nav>\r\n      );\r\n}\r\nPagination.propTypes={\r\n    pagecount: PropTypes.number.isRequired,\r\n    currentpage: PropTypes.number.isRequired,\r\n    onClick: PropTypes.func.isRequired\r\n}\r\nexport default Pagination;","import React from 'react';\r\n\r\nconst ListGenres = props=>{\r\n    const {genres, selectedgenre, onClick} = props;\r\n    return(\r\n        <ul className=\"list-group\">\r\n            {genres.map(genre=> \r\n            <li \r\n            key = {genre._id}\r\n            onClick = {()=>onClick(genre)} \r\n            style ={{cursor: 'pointer'}}\r\n            className ={genre._id===selectedgenre._id? \r\n            'list-group-item active': 'list-group-item'}>{genre.name}</li>)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default ListGenres;","export const colums = [\r\n    {key: 'Check'},\r\n    {path: 'title', label: 'Title'},\r\n    {path: 'genre.name', label: 'Genre'},\r\n    {path: 'numberInStock', label: 'Stock'},\r\n    {path: 'dailyRentalRate', label: 'Rate'},\r\n    {key: 'Like'},\r\n    {key: 'Delete'}\r\n\r\n];\r\nexport const movieNumOfPage=6;","import React, { Component } from 'react';\r\nclass TableHeader extends Component {\r\n    raiseSort = path=>{\r\n        let sortpath = {...this.props.sortpath};\r\n        let order = 'asc';\r\n        if(path===sortpath.path) order= sortpath.order==='asc'?'desc':'asc';\r\n        sortpath = {path, order};\r\n         this.props.onSort(sortpath);\r\n    }\r\n    renderSortIcon=colum=>{\r\n        const {sortpath} = this.props;\r\n        if(colum.path!==sortpath.path) return null;\r\n        if(sortpath.order==='asc') return <i className=\"fa fa-sort-asc\"></i>;\r\n        return <i className=\"fa fa-sort-desc\"></i>;\r\n    }\r\n    renderCheckbox = ()=>{\r\n        return <div><input \r\n        onChange = {this.props.onDeleteAll} \r\n        checked = {this.props.deleteall}\r\n        type = 'checkbox'/>{(this.props.deletedmovies.length!==0)\r\n            &&<i onClick = {this.props.onDeleteMulti} className=\"fa fa-trash btn\"></i>}</div>;\r\n    }\r\n    render() { \r\n        const {user} = this.props;\r\n        return ( \r\n            <thead className = 'bg-primary ' style = {{color: 'white'}}>\r\n                {(user&&user.isAdmin)&&<tr className = \"bg-light\"><th colSpan = {this.props.colums.length}>{this.renderCheckbox()}</th></tr>}\r\n                <tr>\r\n                    {this.props.colums.map(\r\n                        colum => <th \r\n                        style = {{cursor:\"pointer\"}} \r\n                        onClick ={()=>this.raiseSort(colum.path)}\r\n                        key = {colum.path||colum.key} \r\n                        scope = 'col'>{colum.label}\r\n                        {this.renderSortIcon(colum)}\r\n                        </th>)}\r\n                </tr>\r\n            </thead>\r\n         );\r\n    }\r\n}\r\n \r\nexport default TableHeader;","import React from 'react';\r\nconst Like = ({movie,onClick}) => {\r\n    \r\n    return ( \r\n        <React.Fragment>\r\n            <i onClick = {()=>onClick(movie)} className={movie.isLike?\"fa fa-heart btn\":\"fa fa-heart-o btn\"}></i>\r\n        </React.Fragment>\r\n     );\r\n}\r\n \r\nexport default Like;","import React, { Component } from 'react';\r\nimport _ from 'lodash';\r\nimport Like from './common/likeComponent';\r\nimport * as config from './common/config';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass TableBody extends Component {\r\n    user = this.props.user;\r\n    extraColums1 = {\r\n        key: 'Checkbox',\r\n        content: movie => this.user&&this.user.isAdmin?\r\n        <input \r\n        value = {movie._id}\r\n        onChange = {this.props.onCheck} \r\n        type = 'checkbox' \r\n        checked = {this.props.deletedmovies.includes(movie._id)?true:false}/>\r\n        : null\r\n    }\r\n    extraColums = [\r\n        {key: 'Like', \r\n        content: movie=> \r\n        <Like onClick = {this.props.onLike} \r\n        movie = {movie}/>},\r\n        {key: 'Delete', \r\n        content: movie=> this.user&&this.user.isAdmin?\r\n        <button \r\n        onClick = {()=>this.props.onDelete(movie._id)} \r\n        className = 'btn btn-danger'>Delete</button>\r\n        :null}\r\n    ];\r\n    colums = [{...this.extraColums1},\r\n        ...config.colums\r\n        .filter(c=>c.path),\r\n        ...this.extraColums];\r\n    \r\n    renderCell=(movie, colum)=>{\r\n        if(colum.path) {\r\n            if(colum.path === 'title') {\r\n                const linkto = '/movies/'+movie._id;\r\n                return <Link to = {linkto}>{movie.title}</Link>}\r\n            return _.get(movie, colum.path)};\r\n        if(colum.content) {\r\n            return colum.content(movie)};\r\n\r\n    }\r\n\r\n    render() { \r\n        const {movies} = this.props;\r\n        return ( \r\n            <tbody>\r\n                {movies.map(movie =>\r\n                    <tr key = {movie._id}> \r\n                        {this.colums.map(colum=>\r\n                            <td key = {movie._id+(colum.path||colum.key)}>{this.renderCell(movie, colum)}</td>\r\n                            )}\r\n                    </tr>)}\r\n            </tbody>\r\n         );\r\n    }\r\n}\r\n \r\nexport default TableBody;","import React from 'react';\r\nimport TableHeader from './tableHeader';\r\nimport * as config from './common/config';\r\nimport TableBody from './tableBody';\r\n\r\nconst MoviesTable =props=> {\r\n    const { movies,onDelete, onLike, onSort, sortpath, onCheck, deletedmovies, deleteall, onDeleteAll, onDeleteMulti, user} = props;\r\n        return ( \r\n            <table className=\"table table-striped\">\r\n                <TableHeader\r\n                colums = {config.colums}\r\n                onSort = {onSort}\r\n                sortpath = {sortpath} \r\n                deletedmovies = {deletedmovies}\r\n                onDeleteAll = {onDeleteAll}\r\n                deleteall = {deleteall}\r\n                onDeleteMulti = {onDeleteMulti}\r\n                user = {user}\r\n                /> \r\n\r\n                <TableBody\r\n                movies = {movies}\r\n                onDelete = {onDelete}\r\n                onLike = {onLike}\r\n                onCheck = {onCheck}\r\n                deleteall = {deleteall}\r\n                deletedmovies = {deletedmovies}\r\n                user = {user}\r\n                    />\r\n            </table>\r\n         );        \r\n}\r\n \r\nexport default MoviesTable;\r\n","import React, { Component } from 'react';\r\n\r\nclass SearchBox extends Component {\r\n    render() { \r\n        const {value, onChange} = this.props;\r\n        return ( \r\n            <input \r\n            type=\"text\" \r\n            value = {value}\r\n            onChange = {e=>onChange(e.currentTarget.value)}\r\n            placeholder = 'Search...'\r\n            className=\"form-control my-3\"/>\r\n         );\r\n    }\r\n}\r\n \r\nexport default SearchBox;","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport _ from 'lodash';\r\nimport { deleteMovie, getMovies } from '../services/moviesServices';\r\nimport getGenres from '../services/genresServices';\r\nimport Pagination from './common/pagination';\r\nimport ListGenres from './common/listGenres';\r\nimport * as config from './common/config';\r\nimport MoviesTable from './moviesTable';\r\nimport SearchBox from './common/searchbox';\r\n\r\nclass Movies extends Component {\r\n    state = { movies:[],\r\n            genres: [],\r\n            selectedgenre:{name: \"All Genres\" },\r\n            currentpage: 1,\r\n            sortpath: {path: 'title', order: 'asc'},\r\n            searchQuery: '',\r\n            deletedMovies: [],\r\n            deleteall: false,};\r\n            \r\n\r\n    async componentDidMount(){\r\n        const {data: movies} = await getMovies();\r\n        const {data} = await getGenres();\r\n        this.setState({movies, genres: [{_id: '', name: 'All Genres'},...data]});\r\n    }\r\n    handleDelete = async movieid=>{\r\n        const originalMovies = this.state.movies;\r\n        const movies = originalMovies.filter(movie => movie._id!== movieid);\r\n        this.setState({movies});\r\n        try{\r\n\r\n            await deleteMovie(movieid);\r\n        }catch(ex)\r\n        {\r\n            if(ex.response&&ex.response.status===404) alert('The movie has been deleted');\r\n            this.setState({movies: originalMovies});\r\n        }\r\n    }\r\n    handleLike = movie =>{\r\n        const currentMovie ={...movie, isLike: !movie.isLike};\r\n        const movies = [...this.state.movies];\r\n        const index = movies.indexOf(movie);\r\n        movies[index] = {...currentMovie};\r\n        this.setState({movies});\r\n    }\r\n    handlePageChang = currentpage=>{\r\n        this.setState({currentpage});\r\n    }\r\n    paginate=(movies,currentpage)=>{\r\n        const sindex = config.movieNumOfPage*(currentpage-1);\r\n        return movies.slice(sindex, sindex+config.movieNumOfPage);\r\n     \r\n    }\r\n    handleGenreChange = genre=>{\r\n        this.setState({selectedgenre: genre, searchQuery: \"\", currentpage: 1, sortpath: {path: 'title', order: 'asc'}});\r\n    }\r\n    filterMovie=()=>{\r\n        const {movies: filteringmovies, selectedgenre: genre, sortpath} = this.state;\r\n        const {path, order} = sortpath;\r\n        const {searchQuery} = this.state;\r\n        const filtered = searchQuery? \r\n        filteringmovies.filter(movie => \r\n            movie.title.toLowerCase()\r\n            .includes(searchQuery.toLowerCase())) : filteringmovies;\r\n        \r\n        if(!genre._id) return _.orderBy(filtered,[path],[order])\r\n        \r\n        return _.orderBy(\r\n            filtered\r\n            .filter(movie => movie.genre._id === genre._id ),\r\n            [path],\r\n            [order]);\r\n    }\r\n    handleSort=sortpath=>{\r\n        this.setState({sortpath})\r\n    }\r\n\r\n    getPageCount= data=>{\r\n        return data.length%config.movieNumOfPage!==0? \r\n        Math.trunc(data.length/config.movieNumOfPage) + 1 \r\n        :data.length/config.movieNumOfPage ;\r\n    }\r\n    handleMovieSelected=movieid=>{\r\n        this.props.history.push('/movies/' + movieid);\r\n    }\r\n    handleSearch = query=>{\r\n        this.setState({searchQuery: query, selectedgenre: {name: \"All Genres\" }, currentpage: 1});\r\n\r\n    }\r\n    handleCheck = ({currentTarget})=>{\r\n        let deletedMovies = [...this.state.deletedMovies];\r\n        if(currentTarget.checked) {\r\n            deletedMovies.push(currentTarget.value);\r\n        }else {\r\n               deletedMovies = deletedMovies.filter(m=>m !== currentTarget.value);\r\n               this.setState({deleteall: false})\r\n        }\r\n        this.setState({deletedMovies});\r\n    }\r\n    handelDeleteAll= async ({currentTarget})=>{\r\n        let deletedMovies = [];\r\n        const deleteall = currentTarget.checked;\r\n        const {data} = await getMovies();\r\n        if(deleteall) deletedMovies = data.map(m => m._id)\r\n        this.setState({deleteall, deletedMovies});\r\n    }\r\n    handleDeleteMulti = ()=>{\r\n        let movies = [...this.state.movies];\r\n        const deletedMovies = [...this.state.deletedMovies];\r\n        movies = movies.filter(m =>!deletedMovies.includes(m._id));\r\n        this.setState({movies, deletedMovies: []});\r\n\r\n    }\r\n    render() { \r\n        const {movies: allMovies, currentpage, genres, selectedgenre, sortpath, searchQuery, deletedMovies, deleteall} = this.state;\r\n        const filteredMovies = this.filterMovie(allMovies, selectedgenre, sortpath);\r\n        const totalPage = this.getPageCount(filteredMovies);\r\n        const itemCount = filteredMovies.length;\r\n        const movies = this.paginate(filteredMovies,currentpage);\r\n        const {user} = this.props;\r\n        return ( \r\n                <div className=\"row\">\r\n                <div className=\"col-2 my-3\">\r\n                    <ListGenres \r\n                    genres = {genres}\r\n                    selectedgenre = {selectedgenre}\r\n                    onClick = {this.handleGenreChange}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"col\">\r\n                    {user&&<Link to = '/movies/new' className = 'btn btn-primary' style = {{marginTop: '20px', marginBottom: '20px'}}>New Movie</Link>}\r\n                    {itemCount===0?<p>There are no movies in database</p>:<p>Showing {itemCount} movie(s) in database</p>}\r\n                    <SearchBox \r\n                    value = {searchQuery}\r\n                    onChange = {this.handleSearch}/>\r\n                    {(itemCount!==0)&&<MoviesTable \r\n                    itemcount = {itemCount}\r\n                    movies = {movies}\r\n                    onDelete = {this.handleDelete}\r\n                    onLike = {this.handleLike}\r\n                    onSort = {this.handleSort}\r\n                    sortpath = {sortpath}\r\n                    onCheck = {this.handleCheck}\r\n                    deletedmovies = {deletedMovies}\r\n                    onDeleteAll = {this.handelDeleteAll}\r\n                    deleteall = {deleteall}\r\n                    onDeleteMulti = {this.handleDeleteMulti}\r\n                    user = {user}\r\n                    />}\r\n               \r\n                    {(itemCount!==0)&&<Pagination \r\n                    pagecount = {totalPage}\r\n                    currentpage = {currentpage}\r\n                    onClick = {this.handlePageChang}\r\n                    />}\r\n                </div>\r\n                </div>\r\n         );\r\n    }\r\n}\r\n\r\nexport default Movies;","import React from 'react';\r\nimport queryString from 'query-string';\r\n\r\nconst Customers = ({history, location}) => {\r\n    const {name, city} = queryString.parse(location.search);\r\n    return ( \r\n        <div className=\"content\">\r\n            <h1>Customers</h1>\r\n            <h3>Name: {name} City: {city}</h3>\r\n            <button onClick = {()=>history.push('/movies')} className = 'btn btn-primary'>return</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Customers;","import React from 'react';\r\n\r\nconst Rentals = props => {\r\n    return ( \r\n        <div className=\"content\">\r\n            <h1>Rentals</h1>\r\n            <button onClick = {()=>props.history.push('/movies')} className = 'btn btn-primary'>return</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Rentals;","import React from 'react';\r\n\r\nconst notFound = props => {\r\n    return ( \r\n        <div className=\"content\">\r\n            <h1>Not Found</h1>\r\n            <button onClick ={()=> props.history.push('/movies')} className=\"btn btn-primary\">Return</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default notFound;","import React from 'react';\r\n\r\nconst Input = ({name, label, error, ...rest}) => {\r\n    return ( \r\n        <div className=\"form-group\">\r\n            <label htmlFor={name}>{label}</label>\r\n            <input \r\n            name = {name}\r\n            id = {name}\r\n            {...rest}\r\n            className=\"form-control\"/>\r\n            {error&&<div className=\"alert alert-danger\">{error}</div>}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Input;","import React from 'react';\r\n\r\nconst GroupSelect = ({items, label, error, onChange, disabled, ...rest}) => {\r\n    return ( \r\n        \r\n        <div className=\"form-group\">\r\n        <label htmlFor=\"inputGroupSelect\">{label}</label>\r\n        <select \r\n        className=\"custom-select\" \r\n        id=\"inputGroupSelect\"\r\n        onChange = {onChange}\r\n        disabled = {disabled}\r\n        {...rest}>\r\n            <option value=''>Choose...</option>\r\n            {items.map(item=> <option\r\n            key = {item._id}\r\n            value = {item._id}\r\n            >{item.name}</option>)}\r\n        </select>\r\n        {error&& <div className=\"alert alert-danger\">{error}</div> }\r\n        </div>        \r\n     );\r\n}\r\n \r\nexport default GroupSelect;","import React, {Component} from 'react';\r\nimport Input from './input';\r\nimport Joi from 'joi-browser';\r\nimport GroupSelect from './groupselect';\r\n\r\nclass Form extends Component {\r\n    state = {  }\r\n    styles = {\r\n        maxWidth: \"400px\", \r\n        margin: \"auto\"};\r\n    validate = ()=>{\r\n        const data = {...this.state.data};\r\n        const option = {abortEarly: false};\r\n        const {error} = Joi.validate(data, this.schema, option);\r\n        if(error)\r\n        return error.details\r\n                .map(e=> ({[e.path[0]]:e.message}))\r\n                .reduce((obj, e)=> ({...obj, ...e}));\r\n        else\r\n            return null;\r\n    }\r\n    handleSubmit= e=>{\r\n        e.preventDefault();\r\n        const result = this.validate();\r\n        const errors = !result?{}:result;\r\n        this.setState({errors}); \r\n        if (Object.keys(errors).length!==0) return;\r\n        this.doSubmit();\r\n    }\r\n    validateProperty = input=> {\r\n        const {name, value} = input;\r\n        const obj = {[name]: value};\r\n        const schema = {[name]: this.schema[name]};\r\n        const {error} = Joi.validate(obj, schema);\r\n        return error? error.details[0].message : null;\r\n    }\r\n    handleChange = ({currentTarget: input})=>{\r\n        const errors = {...this.state.errors};\r\n        const {name} = input;\r\n        const errorMessage = this.validateProperty(input);\r\n        if(errorMessage) errors[name] = errorMessage\r\n        else delete errors[name];\r\n\r\n        const data = {...this.state.data};\r\n        data[input.name] = input.value;\r\n        this.setState({data, errors});\r\n    }\r\n    renderButton = label=>{\r\n        return <button \r\n            disabled = {this.validate()} \r\n            className=\"btn btn-primary\">{label}</button>\r\n    }\r\n    renderInput =(name, label, type = 'text', readonly = false)=>{\r\n        const {data, errors} = this.state;\r\n        return <Input \r\n        type = {type}\r\n        name = {name}\r\n        value = {data[name]}\r\n        label = {label}\r\n        onChange = {this.handleChange}\r\n        error = {errors[name]}\r\n        readOnly = {readonly}\r\n        />\r\n    }\r\n    renderGroupSelect = (items, name, label, disabled) =>{\r\n        return <GroupSelect \r\n        items = {items}\r\n        name = {name}\r\n        label = {label}\r\n        value = {this.state.data[name]}\r\n        error= {this.state.errors[name]}\r\n        onChange = {this.handleChange}\r\n        disabled = {disabled}\r\n        />\r\n    }\r\n}\r\n \r\nexport default Form;","import React from 'react';\r\nimport Form from './common/form';\r\nimport {getMovie, saveMovie} from '../services/moviesServices';\r\nimport Joi from 'joi-browser';\r\nimport getGenres from '../services/genresServices';\r\n\r\n\r\nclass MovieForm extends Form {\r\n    state = {\r\n        data:{\r\n            _id: '',\r\n            title: '',\r\n            genreId: '',\r\n            numberInStock: '',\r\n            dailyRentalRate: ''\r\n        },\r\n        errors: {},\r\n    }\r\n    schema = {\r\n        _id: Joi.any(),\r\n        title:Joi.string().required().label('Title'),\r\n        genreId:Joi.string().required().label('Genre'),\r\n        numberInStock:Joi.number().min(0).required().label('Stock'),\r\n        dailyRentalRate:Joi.number().min(1).max(10).required().label('Rate'),\r\n    }\r\n    genres = [];\r\n    doSubmit=async ()=>{\r\n        try {\r\n            await saveMovie(this.state.data);\r\n            this.props.history.push('/movies');\r\n        }catch(ex)\r\n        {\r\n            if(ex.response && (ex.response.status>=400&&ex.response.status<500)) alert('something wrong');\r\n        }\r\n    }\r\n    async componentDidMount(){\r\n        const {movieid} = this.props.match.params;\r\n        const {data: result} = await getGenres();\r\n        this.genres = result;\r\n        if(movieid) {\r\n            const {data:result} = {...await getMovie(movieid)};\r\n            let data = {...result};\r\n            if(Object.keys(data).length===0) return this.props.history.replace('/notfound'); \r\n            data.genreId = data.genre._id;\r\n            delete data.genre;\r\n            this.setState({data });\r\n        }\r\n    }\r\n    render() { \r\n        const {user} = this.props;\r\n        return ( \r\n            <form onSubmit = {this.handleSubmit} style = {this.styles}>\r\n                <h1>Movie Form</h1>\r\n                {this.renderInput('title', 'Title','text',!user)}\r\n                {this.renderGroupSelect(this.genres,'genreId','Genre', !user)}\r\n                {this.renderInput('numberInStock', 'Stock','text',!user)}\r\n                {this.renderInput('dailyRentalRate', 'Rate','text',!user)}\r\n                {user&&this.renderButton('Save')}\r\n            </form>\r\n         );\r\n    }\r\n}\r\n \r\nexport default MovieForm;","import http from './httpServices';\r\nimport config from '../config/config.json';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst tokenKey = 'token';\r\nconst apiEndpoint = config.apiEndpoint + 'auth';\r\nexport async function login(email, password) {\r\n    const {data:jwt} = await http.post(apiEndpoint, {email, password});\r\n    console.log(jwt);\r\n    localStorage.setItem(tokenKey, jwt);\r\n}\r\nexport function logout() {\r\n    localStorage.removeItem(tokenKey);\r\n}\r\n\r\nexport function getCurrentUser() {\r\n    try {\r\n        const jwt = localStorage.getItem(tokenKey);\r\n        return jwtDecode(jwt);\r\n    }catch{}\r\n}\r\n\r\nexport function getJwt() {\r\n    return localStorage.getItem(tokenKey);\r\n}\r\nhttp.setJwt(getJwt());","import React from 'react';\r\nimport Form from './common/form';\r\nimport Joi from 'joi-browser';\r\nimport { login, getCurrentUser } from './../services/authServices';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass LoginForm extends Form {\r\n    state = {\r\n        data: {username: '', password: ''},\r\n        errors: {}\r\n    };\r\n    schema = {\r\n        username: Joi.string().required().label('Username'),\r\n        password: Joi.string().required().label('Password')\r\n    };\r\n        \r\n    doSubmit= async ()=>{\r\n        try{\r\n            const {state} = this.props.location;\r\n            const {data} = this.state;\r\n            await login(data.username, data.password);\r\n            window.location = state? state.from.pathname: '/';\r\n        }catch(ex)\r\n        {\r\n            console.log(ex);\r\n            if(ex.response&&ex.response.status===400) {\r\n                const {errors} = this.state;\r\n                errors.username = ex.response.data;\r\n                this.setState({errors});\r\n            }\r\n        }\r\n    }\r\n    render(){\r\n        if(getCurrentUser()) return <Redirect to ='/' />\r\n        return ( \r\n            <div>\r\n                <form onSubmit = {this.handleSubmit} style = {this.styles}>\r\n                    <h1>Login</h1>\r\n                    {this.renderInput('username', 'Username')}\r\n                    {this.renderInput('password', 'Password', 'password')}\r\n                    {this.renderButton('Submit')}\r\n                </form>\r\n            </div>\r\n         );\r\n    }\r\n    \r\n}\r\n \r\nexport default LoginForm;","import http from './httpServices';\r\nimport config from '../config/config.json';\r\n\r\nexport function register(user) {\r\n    return http.post(config.apiEndpoint + 'users', \r\n    {\r\n        email: user.email,\r\n        password: user.password,\r\n        name: user.username\r\n    });\r\n}","import React from 'react';\r\nimport Joi from 'joi-browser';\r\nimport Form from \"./common/form\";\r\nimport { register } from './../services/userServices';\r\n\r\nclass Register extends Form {\r\n    state = { \r\n        data:{\r\n        email:\"\",\r\n        password: \"\",\r\n        username: \"\"},\r\n        errors: {}\r\n     }\r\n     schema = {\r\n         email: Joi.string().email().required().label('Email'),\r\n         password: Joi.string().min(5).required().label('Password'),\r\n         username: Joi.string().required().label('Username')\r\n     }\r\n     doSubmit = async ()=>{\r\n         try{\r\n             const {headers} = await register(this.state.data);\r\n             localStorage.setItem('token', headers[\"x-auth-token\"]);\r\n             window.location = '/';\r\n         }catch(ex)\r\n         {\r\n             if(ex.response&&ex.response.status===400) {\r\n                 const errors = {...this.state.errors};\r\n                errors.email = ex.response.data;\r\n                this.setState({errors});\r\n             }\r\n         }\r\n     }\r\n    render() { \r\n        return ( \r\n            <form onSubmit = {this.handleSubmit} style = {this.styles}>\r\n                <h1>Register</h1>\r\n                {this.renderInput('email', 'Email')}\r\n                {this.renderInput('password', 'Password')}\r\n                {this.renderInput('username', 'Username')}\r\n                {this.renderButton('Register')}\r\n            </form>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Register;","import { Component } from 'react';\r\nimport {logout} from '../services/authServices';\r\nclass Logout extends Component {\r\n    componentDidMount() {\r\n        logout();\r\n        window.location = '/';\r\n    }\r\n    \r\n    render(){\r\n        return null;\r\n    }\r\n}\r\n \r\nexport default Logout;\r\n","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { getCurrentUser } from './../../services/authServices';\r\n\r\nconst ProtectedRoute = ({component: Component, render, ...rest}) => {\r\n    return ( \r\n        <Route \r\n        {...rest}\r\n        render = {props =>\r\n            {if(!getCurrentUser()) return <Redirect \r\n                to ={{pathname: '/login',\r\n                    state: {from: props.location}\r\n                }} />\r\n            return Component?<Component {...props} user = {getCurrentUser()} />:render(props)\r\n          }\r\n          } />\r\n     );\r\n}\r\n \r\nexport default ProtectedRoute;","import React, {Component} from 'react';\nimport './App.css';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport {ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport NavBar from './components/navbar';\nimport Movies from './components/movies';\nimport Customers from './components/customer';\nimport Rentals from './components/rentals';\nimport notFound from './components/notfound';\nimport MovieForm from './components/movieform';\nimport LoginForm from './components/loginform';\nimport Register from './components/registerForm';\nimport Logout from './components/logout';\nimport { getCurrentUser } from './services/authServices';\nimport ProtectedRoute from './components/common/protectedRoute';\n\nclass App extends Component {\n  state = {};\n  componentDidMount() {\n    const user = getCurrentUser();\n    this.setState({user});\n  }\n  render(){\n    const {user} = this.state;\n  return (\n    <div className = 'container'>\n        <ToastContainer />\n        <NavBar user = {user}/>\n      <div className = 'content'>\n        <Switch>\n          <Route path = '/login' component = {LoginForm} />\n          <Route path = '/logout' component = {Logout} />\n          <Route path = '/register' component = {Register} />\n          <Route path = '/customers' component = {Customers} />\n          <Route path = '/rentals' component = {Rentals} />\n          {/* <Route path = '/movies/new' render = {props =>\n            {if(!user) return <Redirect to ='/login' />\n            return <MovieForm {...props} />\n          }\n          } /> */}\n          <ProtectedRoute path = '/movies/new' component = {MovieForm}/>\n          <Route path = '/movies/:movieid' render = {props => <MovieForm {...props} user = {user} />} />\n          <Route path = '/movies' render = {props=><Movies {...props} user= {user} />} />\n          <Route path = '/' exact render = {props=><Movies {...props} user= {user} />} />\n          <Route path = '/vidly' exact render = {props=><Movies {...props} user= {user} />} />\n          <Route path = '/notfound' component = {notFound} />\n          <Redirect to ='/notfound' />\n        </Switch>\n      </div>\n      \n    </div>\n  );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'font-awesome/css/font-awesome.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}