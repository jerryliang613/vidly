{"version":3,"sources":["components/navbar.jsx","services/httpServices.js","services/moviesServices.js","services/genresServices.js","components/common/pagination.jsx","components/common/listGenres.jsx","components/common/config.jsx","components/tableHeader.jsx","components/common/likeComponent.jsx","components/tableBody.jsx","components/moviesTable.jsx","components/common/searchbox.jsx","components/movies.jsx","components/customers.jsx","components/rentals.jsx","components/notfound.jsx","components/common/input.jsx","components/common/groupselect.jsx","components/common/form.jsx","components/movieform.jsx","services/authServices.js","components/loginform.jsx","services/userServices.js","components/registerForm.jsx","components/logout.jsx","components/customerForm.jsx","components/customerRegister.jsx","components/common/protectedRoute.jsx","App.js","serviceWorker.js","index.js"],"names":["NavBar","props","user","className","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","to","Fragment","name","axios","interceptors","response","use","error","status","toast","Promise","reject","get","post","put","delete","setJwt","jwt","defaults","headers","common","getMovies","http","config","apiEndpoint","getMovie","movieid","deleteMovie","saveMovie","movie","_id","getGenres","Pagination","pagecount","currentpage","onClick","pages","i","push","map","p","key","ListGenres","genres","selectedgenre","genre","style","cursor","colums","path","label","CustomerColums","TableHeader","raiseSort","sortpath","order","onSort","renderSortIcon","colum","renderCheckbox","onChange","onDeleteAll","checked","deleteall","deletedmovies","length","onDeleteMulti","this","color","isAdmin","colSpan","scope","Component","Like","isLike","TableBody","extraColums1","content","value","onCheck","includes","extraColums","onLike","onDelete","filter","c","renderCell","linkto","title","_","movies","MoviesTable","SearchBox","e","currentTarget","placeholder","Movies","state","searchQuery","deletedMovies","loading","handleDelete","a","originalMovies","setState","alert","handleLike","currentMovie","index","indexOf","handlePageChang","paginate","sindex","slice","handleGenreChange","filterMovie","filteringmovies","filtered","toLowerCase","orderBy","handleSort","getPageCount","data","Math","trunc","handleMovieSelected","history","handleSearch","query","handleCheck","m","handelDeleteAll","handleDeleteMulti","timerId","setTimeout","clearTimeout","allMovies","filteredMovies","totalPage","itemCount","marginTop","marginBottom","itemcount","height","display","alignItems","justifyContent","width","role","Customers","customers","console","log","httpServices","Rentals","notFound","Input","rest","htmlFor","GroupSelect","items","selectedItem","disabled","item","Form","styles","maxWidth","margin","validate","Joi","schema","abortEarly","details","message","reduce","obj","handleSubmit","preventDefault","result","errors","Object","keys","doSubmit","validateProperty","input","handleChange","errorMessage","renderButton","renderInput","readonly","readOnly","renderGroupSelect","MovieForm","genreId","numberInStock","dailyRentalRate","selectedGenre","any","string","required","number","min","max","match","params","replace","onSubmit","login","email","password","localStorage","setItem","getCurrentUser","getItem","jwtDecode","LoginForm","username","location","window","from","pathname","class","padding","listStyleType","register","Register","Logout","removeItem","CustomerForm","CustomerRegister","ProtectedRoute","component","render","App","exact","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.a4855fa2.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NavBar = props => {\r\n    const {user} = props;\r\n    return ( \r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n        <a className=\"navbar-brand\" href=\"#\">Vidly</a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n            <div className=\"navbar-nav\">\r\n                <Link className=\"nav-item nav-link\" to =\"/movies\">Movies</Link>\r\n                {user&&\r\n                <React.Fragment>\r\n\r\n                    <Link className=\"nav-item nav-link\" to =\"/customers\">Customers</Link>\r\n                    <Link className = 'nav-item nav-link' to='rentals'>Rentals</Link>\r\n                </React.Fragment>\r\n                }\r\n                {user&&\r\n                <React.Fragment>\r\n                <Link className=\"nav-item nav-link\" to =\"/profile\">{user.name}</Link>\r\n                <Link className=\"nav-item nav-link\" to =\"/logout\">Logout</Link>\r\n                </React.Fragment>}\r\n                {(!user)&&\r\n                <React.Fragment>\r\n                <Link className=\"nav-item nav-link\" to =\"/login\">Login</Link>\r\n                <Link className=\"nav-item nav-link\" to =\"/register\">Register</Link>\r\n                </React.Fragment>}\r\n            </div>\r\n        </div>\r\n        </nav>\r\n     );\r\n}\r\n \r\nexport default NavBar;","import axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\n\r\naxios.interceptors.response.use(null, error=>{\r\n    const ex = error.response&&\r\n    error.response.status>=400&& \r\n    error.response.status<500;\r\n    if(!ex){\r\n      toast.error('unexpected error occured');\r\n    }\r\n    return Promise.reject(error);\r\n  \r\n  })\r\nfunction setJwt(jwt) {\r\n  axios.defaults.headers.common['x-auth-token'] = jwt;\r\n}\r\nexport default {\r\n    get: axios.get,\r\n    post: axios.post,\r\n    put: axios.put,\r\n    delete: axios.delete,\r\n    setJwt\r\n}","import http from './httpServices';\r\nimport config from '../config/config.json';\r\n\r\nexport const getMovies=  ()=>{\r\n    return  http.get(config.apiEndpoint+'movies');\r\n}\r\nexport const getMovie = movieid =>{\r\n    return http.get(config.apiEndpoint+'movies/'+ movieid);\r\n}\r\nexport const deleteMovie= movieid =>{\r\n    return http.delete(config.apiEndpoint +'movies/'+ movieid);\r\n}\r\nexport const saveMovie = movie=>{\r\n    const movieid = movie._id;\r\n    delete movie._id;\r\n    if(movieid!=='') {\r\n        return http.put(config.apiEndpoint+'movies/'+movieid, movie);\r\n    }\r\n    return http.post(config.apiEndpoint + 'movies', movie);\r\n\r\n}","import http from './httpServices';\r\nimport config from '../config/config.json';\r\n\r\nexport default function getGenres() {\r\n    return http.get(config.apiEndpoint+'genres');\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nconst Pagination = ({pagecount,currentpage,onClick}) => {\r\n    if (pagecount ===1) return null;\r\n    const pages = [];\r\n    for(let i = 0; i<pagecount; i++) pages.push(i+1);\r\n    return (\r\n        <nav aria-label=\"...\">\r\n        <ul className=\"pagination\">\r\n            {pages.map(p =><li \r\n            onClick = {()=>onClick(p)} \r\n            key = {p} \r\n            className = {p===currentpage?\r\n            'page-item active':'page-item'}>\r\n                <a className=\"page-link\">{p}</a></li>)}\r\n        </ul>\r\n        </nav>\r\n      );\r\n}\r\nPagination.propTypes={\r\n    pagecount: PropTypes.number.isRequired,\r\n    currentpage: PropTypes.number.isRequired,\r\n    onClick: PropTypes.func.isRequired\r\n}\r\nexport default Pagination;","import React from 'react';\r\n\r\nconst ListGenres = props=>{\r\n    const {genres, selectedgenre, onClick} = props;\r\n    return(\r\n        <ul className=\"list-group\">\r\n            {genres.map(genre=> \r\n            <li \r\n            key = {genre._id}\r\n            onClick = {()=>onClick(genre)} \r\n            style ={{cursor: 'pointer'}}\r\n            className ={genre._id===selectedgenre._id? \r\n            'list-group-item active': 'list-group-item'}>{genre.name}</li>)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default ListGenres;","export const colums = [\r\n    {key: 'Check'},\r\n    {path: 'title', label: 'Title'},\r\n    {path: 'genre.name', label: 'Genre'},\r\n    {path: 'numberInStock', label: 'Stock'},\r\n    {path: 'dailyRentalRate', label: 'Rate'},\r\n    {key: 'Like'},\r\n    {key: 'Delete'}\r\n\r\n];\r\nexport const CustomerColums = [\r\n    {path: 'name', label: 'Name'},\r\n    {path: 'email', label: 'Email'},\r\n    {path: 'phone', label: 'Phone'},\r\n    {path: 'address', label: 'Address'},\r\n    {path: 'class', label: 'Class'},\r\n    \r\n];\r\nexport const movieNumOfPage=6;","import React, { Component } from 'react';\r\nclass TableHeader extends Component {\r\n    raiseSort = path=>{\r\n        let sortpath = {...this.props.sortpath};\r\n        let order = 'asc';\r\n        if(path===sortpath.path) order= sortpath.order==='asc'?'desc':'asc';\r\n        sortpath = {path, order};\r\n         this.props.onSort(sortpath);\r\n    }\r\n    renderSortIcon=colum=>{\r\n        const {sortpath} = this.props;\r\n        if(colum.path!==sortpath.path) return null;\r\n        if(sortpath.order==='asc') return <i className=\"fa fa-sort-asc\"></i>;\r\n        return <i className=\"fa fa-sort-desc\"></i>;\r\n    }\r\n    renderCheckbox = ()=>{\r\n        return <div><input \r\n        onChange = {this.props.onDeleteAll} \r\n        checked = {this.props.deleteall}\r\n        type = 'checkbox'/>{(this.props.deletedmovies.length!==0)\r\n            &&<i onClick = {this.props.onDeleteMulti} className=\"fa fa-trash btn\"></i>}</div>;\r\n    }\r\n    render() { \r\n        const {user} = this.props;\r\n        return ( \r\n            <thead className = 'bg-primary ' style = {{color: 'white'}}>\r\n                {(user&&user.isAdmin)&&<tr className = \"bg-light\"><th colSpan = {this.props.colums.length}>{this.renderCheckbox()}</th></tr>}\r\n                <tr>\r\n                    {this.props.colums.map(\r\n                        colum => <th \r\n                        style = {{cursor:\"pointer\"}} \r\n                        onClick ={()=>this.raiseSort(colum.path)}\r\n                        key = {colum.path||colum.key} \r\n                        scope = 'col'>{colum.label}\r\n                        {this.renderSortIcon(colum)}\r\n                        </th>)}\r\n                </tr>\r\n            </thead>\r\n         );\r\n    }\r\n}\r\n \r\nexport default TableHeader;","import React from 'react';\r\nconst Like = ({movie,onClick}) => {\r\n    \r\n    return ( \r\n        <React.Fragment>\r\n            <i onClick = {()=>onClick(movie)} className={movie.isLike?\"fa fa-heart btn\":\"fa fa-heart-o btn\"}></i>\r\n        </React.Fragment>\r\n     );\r\n}\r\n \r\nexport default Like;","import React, { Component } from 'react';\r\nimport _ from 'lodash';\r\nimport Like from './common/likeComponent';\r\nimport * as config from './common/config';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass TableBody extends Component {\r\n    user = this.props.user;\r\n    extraColums1 = {\r\n        key: 'Checkbox',\r\n        content: movie => this.user&&this.user.isAdmin?\r\n        <input \r\n        value = {movie._id}\r\n        onChange = {this.props.onCheck} \r\n        type = 'checkbox' \r\n        checked = {this.props.deletedmovies.includes(movie._id)?true:false}/>\r\n        : null\r\n    }\r\n    extraColums = [\r\n        {key: 'Like', \r\n        content: movie=> \r\n        <Like onClick = {this.props.onLike} \r\n        movie = {movie}/>},\r\n        {key: 'Delete', \r\n        content: movie=> this.user&&this.user.isAdmin?\r\n        <button \r\n        onClick = {()=>this.props.onDelete(movie._id)} \r\n        className = 'btn btn-danger'>Delete</button>\r\n        :null}\r\n    ];\r\n    colums = [{...this.extraColums1},\r\n        ...config.colums\r\n        .filter(c=>c.path),\r\n        ...this.extraColums];\r\n    \r\n    renderCell=(movie, colum)=>{\r\n        if(colum.path) {\r\n            if(colum.path === 'title') {\r\n                const linkto = '/movies/'+movie._id;\r\n                return <Link to = {linkto}>{movie.title}</Link>}\r\n            return _.get(movie, colum.path)};\r\n        if(colum.content) {\r\n            return colum.content(movie)};\r\n\r\n    }\r\n\r\n    render() { \r\n        const {movies} = this.props;\r\n        return ( \r\n            <tbody>\r\n                {movies.map(movie =>\r\n                    <tr key = {movie._id}> \r\n                        {this.colums.map(colum=>\r\n                            <td key = {movie._id+(colum.path||colum.key)}>{this.renderCell(movie, colum)}</td>\r\n                            )}\r\n                    </tr>)}\r\n            </tbody>\r\n         );\r\n    }\r\n}\r\n \r\nexport default TableBody;","import React from 'react';\r\nimport TableHeader from './tableHeader';\r\nimport * as config from './common/config';\r\nimport TableBody from './tableBody';\r\n\r\nconst MoviesTable =props=> {\r\n    const { movies,onDelete, onLike, onSort, sortpath, onCheck, deletedmovies, deleteall, onDeleteAll, onDeleteMulti, user} = props;\r\n        return ( \r\n            <table className=\"table table-striped\">\r\n                <TableHeader\r\n                colums = {config.colums}\r\n                onSort = {onSort}\r\n                sortpath = {sortpath} \r\n                deletedmovies = {deletedmovies}\r\n                onDeleteAll = {onDeleteAll}\r\n                deleteall = {deleteall}\r\n                onDeleteMulti = {onDeleteMulti}\r\n                user = {user}\r\n                /> \r\n\r\n                <TableBody\r\n                movies = {movies}\r\n                onDelete = {onDelete}\r\n                onLike = {onLike}\r\n                onCheck = {onCheck}\r\n                deleteall = {deleteall}\r\n                deletedmovies = {deletedmovies}\r\n                user = {user}\r\n                    />\r\n            </table>\r\n         );        \r\n}\r\n \r\nexport default MoviesTable;\r\n","import React, { Component } from 'react';\r\n\r\nclass SearchBox extends Component {\r\n    render() { \r\n        const {value, onChange} = this.props;\r\n        return ( \r\n            <input \r\n            type=\"text\" \r\n            value = {value}\r\n            onChange = {e=>onChange(e.currentTarget.value)}\r\n            placeholder = 'Search...'\r\n            className=\"form-control my-3\"/>\r\n         );\r\n    }\r\n}\r\n \r\nexport default SearchBox;","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport _ from 'lodash';\r\nimport { deleteMovie, getMovies } from '../services/moviesServices';\r\nimport getGenres from '../services/genresServices';\r\nimport Pagination from './common/pagination';\r\nimport ListGenres from './common/listGenres';\r\nimport * as config from './common/config';\r\nimport MoviesTable from './moviesTable';\r\nimport SearchBox from './common/searchbox';\r\n\r\nclass Movies extends Component {\r\n    state = { movies:[],\r\n            genres: [],\r\n            selectedgenre:{name: \"All Genres\" },\r\n            currentpage: 1,\r\n            sortpath: {path: 'title', order: 'asc'},\r\n            searchQuery: '',\r\n            deletedMovies: [],\r\n            deleteall: false,\r\n            loading: true};\r\n            \r\n\r\n    async componentDidMount(){\r\n        const {data: movies} = await getMovies();\r\n        const {data} = await getGenres();\r\n        this.setState({movies, genres: [{_id: '', name: 'All Genres'},...data]});\r\n        this.timerId = setTimeout(() => {\r\n            this.setState({loading:false})\r\n        }, 10000);\r\n    }\r\n    componentWillUnmount(){\r\n        clearTimeout(this.timerId);\r\n    }\r\n\r\n    handleDelete = async movieid=>{\r\n        const originalMovies = this.state.movies;\r\n        const movies = originalMovies.filter(movie => movie._id!== movieid);\r\n        this.setState({movies});\r\n        try{\r\n\r\n            await deleteMovie(movieid);\r\n        }catch(ex)\r\n        {\r\n            if(ex.response&&ex.response.status===404) alert('The movie has been deleted');\r\n            this.setState({movies: originalMovies});\r\n        }\r\n    }\r\n    handleLike = movie =>{\r\n        const currentMovie ={...movie, isLike: !movie.isLike};\r\n        const movies = [...this.state.movies];\r\n        const index = movies.indexOf(movie);\r\n        movies[index] = {...currentMovie};\r\n        this.setState({movies});\r\n    }\r\n    handlePageChang = currentpage=>{\r\n        this.setState({currentpage});\r\n    }\r\n    paginate=(movies,currentpage)=>{\r\n        const sindex = config.movieNumOfPage*(currentpage-1);\r\n        return movies.slice(sindex, sindex+config.movieNumOfPage);\r\n     \r\n    }\r\n    handleGenreChange = genre=>{\r\n        this.setState({selectedgenre: genre, searchQuery: \"\", currentpage: 1, sortpath: {path: 'title', order: 'asc'}});\r\n    }\r\n    filterMovie=()=>{\r\n        const {movies: filteringmovies, selectedgenre: genre, sortpath} = this.state;\r\n        const {path, order} = sortpath;\r\n        const {searchQuery} = this.state;\r\n        const filtered = searchQuery? \r\n        filteringmovies.filter(movie => \r\n            movie.title.toLowerCase()\r\n            .includes(searchQuery.toLowerCase())) : filteringmovies;\r\n        \r\n        if(!genre._id) return _.orderBy(filtered,[path],[order])\r\n        \r\n        return _.orderBy(\r\n            filtered\r\n            .filter(movie => movie.genre._id === genre._id ),\r\n            [path],\r\n            [order]);\r\n    }\r\n    handleSort=sortpath=>{\r\n        this.setState({sortpath})\r\n    }\r\n\r\n    getPageCount= data=>{\r\n        return data.length%config.movieNumOfPage!==0? \r\n        Math.trunc(data.length/config.movieNumOfPage) + 1 \r\n        :data.length/config.movieNumOfPage ;\r\n    }\r\n    handleMovieSelected=movieid=>{\r\n        this.props.history.push('/movies/' + movieid);\r\n    }\r\n    handleSearch = query=>{\r\n        this.setState({searchQuery: query, selectedgenre: {name: \"All Genres\" }, currentpage: 1});\r\n\r\n    }\r\n    handleCheck = ({currentTarget})=>{\r\n        let deletedMovies = [...this.state.deletedMovies];\r\n        if(currentTarget.checked) {\r\n            deletedMovies.push(currentTarget.value);\r\n        }else {\r\n               deletedMovies = deletedMovies.filter(m=>m !== currentTarget.value);\r\n               this.setState({deleteall: false})\r\n        }\r\n        this.setState({deletedMovies});\r\n    }\r\n    handelDeleteAll= async ({currentTarget})=>{\r\n        let deletedMovies = [];\r\n        const deleteall = currentTarget.checked;\r\n        const {data} = await getMovies();\r\n        if(deleteall) deletedMovies = data.map(m => m._id)\r\n        this.setState({deleteall, deletedMovies});\r\n    }\r\n    handleDeleteMulti = ()=>{\r\n        let movies = [...this.state.movies];\r\n        const deletedMovies = [...this.state.deletedMovies];\r\n        movies = movies.filter(m =>!deletedMovies.includes(m._id));\r\n        this.setState({movies, deletedMovies: []});\r\n\r\n    }\r\n\r\n    render() { \r\n        const {movies: allMovies, currentpage, genres, selectedgenre, sortpath, searchQuery, deletedMovies, deleteall,loading} = this.state;\r\n        const filteredMovies = this.filterMovie(allMovies, selectedgenre, sortpath);\r\n        const totalPage = this.getPageCount(filteredMovies);\r\n        const itemCount = filteredMovies.length;\r\n        const movies = this.paginate(filteredMovies,currentpage);\r\n        const {user} = this.props;\r\n\r\n        return ( \r\n\r\n                (allMovies.length===0||genres.length===0)&&loading?\r\n\r\n                <div style = {{ height:'100vh', display: 'flex', alignItems: 'center', justifyContent: 'center'}} >\r\n                <div className=\"spinner-border text-primary \" style = {{width: '4rem', height: '4rem'}} role=\"status\" >\r\n                <span className=\"sr-only\">Loading...</span>\r\n                </div>\r\n                </div>\r\n\r\n                :<div className=\"row\">\r\n                <div className=\"col-md-2 my-3\">\r\n                    <ListGenres \r\n                    genres = {genres}\r\n                    selectedgenre = {selectedgenre}\r\n                    onClick = {this.handleGenreChange}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"col\">\r\n                {user&&<Link to = '/movies/new' className = 'btn btn-primary' style = {{marginTop: '20px', marginBottom: '20px'}}>New Movie</Link>}\r\n                {itemCount===0?<p>There are no movies in database</p>:<p>Showing {itemCount} movie(s) in database</p>}\r\n                <SearchBox \r\n                value = {searchQuery}\r\n                onChange = {this.handleSearch}/>\r\n                {(itemCount!==0)&&<MoviesTable \r\n                itemcount = {itemCount}\r\n                movies = {movies}\r\n                onDelete = {this.handleDelete}\r\n                onLike = {this.handleLike}\r\n                onSort = {this.handleSort}\r\n                sortpath = {sortpath}\r\n                onCheck = {this.handleCheck}\r\n                deletedmovies = {deletedMovies}\r\n                onDeleteAll = {this.handelDeleteAll}\r\n                deleteall = {deleteall}\r\n                onDeleteMulti = {this.handleDeleteMulti}\r\n                user = {user}\r\n                />}\r\n            \r\n                {(itemCount!==0)&&<Pagination \r\n                pagecount = {totalPage}\r\n                currentpage = {currentpage}\r\n                onClick = {this.handlePageChang}\r\n                />}\r\n            </div>\r\n                </div>\r\n\r\n         );\r\n    }\r\n}\r\n\r\nexport default Movies;","import React, {Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport httpServices from '../services/httpServices';\r\nimport config from '../config/config.json';\r\nimport {CustomerColums} from './common/config';\r\nimport TableHeader from './tableHeader';\r\nimport TableBody from './tableBody';\r\n\r\nclass Customers  extends Component {\r\n    state = {\r\n        customers: [],\r\n        currentpage: 1,\r\n        sortpath: {path: 'name', order: 'asc'},\r\n        searchQuery: '',\r\n        loading: true\r\n    };\r\n\r\n    async componentDidMount () {\r\n        \r\n        try {\r\n            const {data: customers} = await httpServices.get(config.apiEndpoint+'customers');\r\n            this.setState(customers);\r\n            setTimeout(() => {\r\n                this.setState({loading: false})\r\n            }, 10000);\r\n        }catch(ex){\r\n            console.log('Can not get data properly!')\r\n        }\r\n\r\n    }\r\n\r\n    handleDelete = ()=>{\r\n        console.log('handle delete')\r\n    }\r\n\r\n    handleSort = ()=>{\r\n        console.log('hnadle sort');\r\n    }\r\n    \r\n    render() { \r\n        const {customers,sortpath} = this.setState;\r\n        const {user} = this.props;\r\n        return ( \r\n            <div className = 'content'>\r\n            {user&&<Link to = '/customers/new' className = 'btn btn-primary' style = {{marginTop: '20px', marginBottom: '20px'}}>New Customer</Link>}\r\n            <table className=\"table table-striped\">\r\n                <TableHeader\r\n                colums = {CustomerColums}\r\n                onSort = {this.handleSort}\r\n                sortpath = {sortpath} \r\n                user = {user}\r\n                />\r\n                <TableBody \r\n                data = {customers}\r\n                onDelete = {this.handleDelete}\r\n                user = {user}\r\n                />\r\n            </table>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Customers;","import React from 'react';\r\n\r\nconst Rentals = props => {\r\n    return ( \r\n        <div className=\"content\">\r\n            <h1>Rentals</h1>\r\n            <button onClick = {()=>props.history.push('/movies')} className = 'btn btn-primary'>return</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Rentals;","import React from 'react';\r\n\r\nconst notFound = props => {\r\n    return ( \r\n        <div className=\"content\">\r\n            <h1>Not Found</h1>\r\n            <button onClick ={()=> props.history.push('/movies')} className=\"btn btn-primary\">Return</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default notFound;","import React from 'react';\r\n\r\nconst Input = ({name, label, error, ...rest}) => {\r\n    return ( \r\n        <div className=\"form-group\">\r\n            <label htmlFor={name}>{label}</label>\r\n            <input \r\n            name = {name}\r\n            id = {name}\r\n            {...rest}\r\n            className=\"form-control\"/>\r\n            {error&&<div className=\"alert alert-danger\">{error}</div>}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Input;","import React from 'react';\r\n\r\nconst GroupSelect = ({items,selectedItem, label, error, onChange, disabled, ...rest}) => {\r\n    return ( \r\n        \r\n        <div className=\"form-group\">\r\n        <label htmlFor=\"inputGroupSelect\">{label}</label>\r\n        <select \r\n        className=\"custom-select\" \r\n        id=\"inputGroupSelect\"\r\n        onChange = {onChange}\r\n        disabled = {disabled}\r\n        value = {selectedItem}\r\n        {...rest}>\r\n            {!selectedItem&&<option value=''>Choose...</option>}\r\n            {items.map(item=> <option\r\n            key = {item._id}\r\n            value = {item._id}\r\n             >{item.name}</option>)}\r\n        </select>\r\n        {error&& <div className=\"alert alert-danger\">{error}</div> }\r\n        </div>        \r\n     );\r\n}\r\n \r\nexport default GroupSelect;","import React, {Component} from 'react';\r\nimport Input from './input';\r\nimport Joi from 'joi-browser';\r\nimport GroupSelect from './groupselect';\r\n\r\nclass Form extends Component {\r\n    state = {  }\r\n    styles = {\r\n        maxWidth: \"400px\", \r\n        margin: \"auto\"};\r\n    validate = ()=>{\r\n        const data = {...this.state.data};\r\n        const option = {abortEarly: false};\r\n        const {error} = Joi.validate(data, this.schema, option);\r\n        if(error)\r\n        return error.details\r\n                .map(e=> ({[e.path[0]]:e.message}))\r\n                .reduce((obj, e)=> ({...obj, ...e}));\r\n        else\r\n            return null;\r\n    }\r\n    handleSubmit= e=>{\r\n        e.preventDefault();\r\n        const result = this.validate();\r\n        const errors = !result?{}:result;\r\n        this.setState({errors}); \r\n        if (Object.keys(errors).length!==0) return;\r\n        this.doSubmit();\r\n    }\r\n    validateProperty = input=> {\r\n        const {name, value} = input;\r\n        const obj = {[name]: value};\r\n        const schema = {[name]: this.schema[name]};\r\n        const {error} = Joi.validate(obj, schema);\r\n        return error? error.details[0].message : null;\r\n    }\r\n    handleChange = ({currentTarget: input})=>{\r\n        const errors = {...this.state.errors};\r\n        const {name} = input;\r\n        const errorMessage = this.validateProperty(input);\r\n        if(errorMessage) errors[name] = errorMessage\r\n        else delete errors[name];\r\n\r\n        const data = {...this.state.data};\r\n        data[input.name] = input.value;\r\n        this.setState({data, errors});\r\n    }\r\n    renderButton = label=>{\r\n        return <button \r\n            disabled = {this.validate()} \r\n            className=\"btn btn-primary\">{label}</button>\r\n    }\r\n    renderInput =(name, label, type = 'text', readonly = false)=>{\r\n        const {data, errors} = this.state;\r\n        return <Input \r\n        type = {type}\r\n        name = {name}\r\n        value = {data[name]}\r\n        label = {label}\r\n        onChange = {this.handleChange}\r\n        error = {errors[name]}\r\n        readOnly = {readonly}\r\n        />\r\n    }\r\n    renderGroupSelect = (items,selectedItem, name, label, disabled) =>{\r\n        return <GroupSelect \r\n        items = {items}\r\n        name = {name}\r\n        label = {label}\r\n        value = {this.state.data[name]}\r\n        error= {this.state.errors[name]}\r\n        onChange = {this.handleChange}\r\n        disabled = {disabled}\r\n        selectedItem = {selectedItem}\r\n        />\r\n    }\r\n}\r\n \r\nexport default Form;","import React from 'react';\r\nimport Form from './common/form';\r\nimport {getMovie, saveMovie} from '../services/moviesServices';\r\nimport Joi from 'joi-browser';\r\nimport getGenres from '../services/genresServices';\r\n\r\n\r\nclass MovieForm extends Form {\r\n    state = {\r\n        data:{\r\n            _id: '',\r\n            title: '',\r\n            genreId: '',\r\n            numberInStock: '',\r\n            dailyRentalRate: ''\r\n        },\r\n        genres: [],\r\n        selectedGenre: '',\r\n        errors: {},\r\n    }\r\n    schema = {\r\n        _id: Joi.any(),\r\n        title:Joi.string().required().label('Title'),\r\n        genreId:Joi.string().required().label('Genre'),\r\n        numberInStock:Joi.number().min(0).required().label('Stock'),\r\n        dailyRentalRate:Joi.number().min(1).max(10).required().label('Rate'),\r\n    }\r\n    doSubmit=async ()=>{\r\n        try {\r\n            await saveMovie(this.state.data);\r\n            this.props.history.push('/movies');\r\n        }catch(ex)\r\n        {\r\n            if(ex.response && (ex.response.status>=400&&ex.response.status<500)) alert('something wrong');\r\n        }\r\n    }\r\n    async componentDidMount(){\r\n        const {movieid} = this.props.match.params;\r\n        const {data} = await getGenres();\r\n        this.setState({genres: [...data]});\r\n        \r\n        if(movieid) {\r\n            const {data:result} = {...await getMovie(movieid)};\r\n            let data = {...result};\r\n            if(Object.keys(data).length===0) return this.props.history.replace('/notfound'); \r\n            data.genreId = data.genre._id;\r\n            this.setState({selectedGenre:data.genreId})\r\n            delete data.genre;\r\n            this.setState({data });\r\n            console.log(data);\r\n        }\r\n            \r\n        \r\n    }\r\n    render() { \r\n        const {user} = this.props;\r\n        const {genres, selectedGenre} = this.state;\r\n        return ( \r\n            <form onSubmit = {this.handleSubmit} style = {this.styles}>\r\n                <h1>Movie Form</h1>\r\n                {this.renderInput('title', 'Title','text',!user)}\r\n                {this.renderGroupSelect(genres, selectedGenre,'genreId','Genre', !user)}\r\n                {this.renderInput('numberInStock', 'Stock','text',!user)}\r\n                {this.renderInput('dailyRentalRate', 'Rate','text',!user)}\r\n                {user&&this.renderButton('Save')}\r\n            </form>\r\n         );\r\n    }\r\n}\r\n \r\nexport default MovieForm;","import http from './httpServices';\r\nimport config from '../config/config.json';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst tokenKey = 'token';\r\nconst apiEndpoint = config.apiEndpoint + 'auth';\r\nexport async function login(email, password) {\r\n    const {data:jwt} = await http.post(apiEndpoint, {email, password});\r\n    console.log(jwt);\r\n    localStorage.setItem(tokenKey, jwt);\r\n}\r\nexport function logout() {\r\n    localStorage.removeItem(tokenKey);\r\n}\r\n\r\nexport function getCurrentUser() {\r\n    try {\r\n        const jwt = localStorage.getItem(tokenKey);\r\n        return jwtDecode(jwt);\r\n    }catch{}\r\n}\r\n\r\nexport function getJwt() {\r\n    return localStorage.getItem(tokenKey);\r\n}\r\nhttp.setJwt(getJwt());","import React from 'react';\r\nimport Form from './common/form';\r\nimport Joi from 'joi-browser';\r\nimport { login, getCurrentUser } from './../services/authServices';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass LoginForm extends Form {\r\n    state = {\r\n        data: {username: '', password: ''},\r\n        errors: {}\r\n    };\r\n    schema = {\r\n        username: Joi.string().required().label('Username'),\r\n        password: Joi.string().required().label('Password')\r\n    };\r\n        \r\n    doSubmit= async ()=>{\r\n        try{\r\n            const {state} = this.props.location;\r\n            const {data} = this.state;\r\n            await login(data.username, data.password);\r\n            window.location = state? state.from.pathname: '/vidly';\r\n        }catch(ex)\r\n        {\r\n            console.log(ex);\r\n            if(ex.response&&ex.response.status===400) {\r\n                const {errors} = this.state;\r\n                errors.username = ex.response.data;\r\n                this.setState({errors});\r\n            }\r\n        }\r\n    }\r\n    render(){\r\n        if(getCurrentUser()) return <Redirect to ='/vidly' />\r\n        return ( \r\n            <div>\r\n                <form onSubmit = {this.handleSubmit} style = {this.styles}>\r\n                    <h1>Login</h1>\r\n                    {this.renderInput('username', 'Username')}\r\n                    {this.renderInput('password', 'Password', 'password')}\r\n                    {this.renderButton('Submit')}\r\n                <div class=\"alert alert-light mt-3\" style = {{padding: 0}} role=\"alert\">\r\n                    <li style = {{listStyleType: 'none'}}>admin@jerryliang.co</li>\r\n                    <li style = {{listStyleType: 'none'}}>admin</li>\r\n                </div>\r\n                </form>\r\n            </div>\r\n         );\r\n    }\r\n    \r\n}\r\n \r\nexport default LoginForm;","import http from './httpServices';\r\nimport config from '../config/config.json';\r\n\r\nexport function register(user) {\r\n    return http.post(config.apiEndpoint + 'users', \r\n    {\r\n        email: user.email,\r\n        password: user.password,\r\n        name: user.username\r\n    });\r\n}","import React from 'react';\r\nimport Joi from 'joi-browser';\r\nimport Form from \"./common/form\";\r\nimport { register } from './../services/userServices';\r\n\r\nclass Register extends Form {\r\n    state = { \r\n        data:{\r\n        email:\"\",\r\n        password: \"\",\r\n        username: \"\"},\r\n        errors: {}\r\n     }\r\n     schema = {\r\n         email: Joi.string().email().required().label('Email'),\r\n         password: Joi.string().min(5).required().label('Password'),\r\n         username: Joi.string().required().label('Username')\r\n     }\r\n     doSubmit = async ()=>{\r\n         try{\r\n             const {headers} = await register(this.state.data);\r\n             localStorage.setItem('token', headers[\"x-auth-token\"]);\r\n             window.location = '/vidly';\r\n         }catch(ex)\r\n         {\r\n             if(ex.response&&ex.response.status===400) {\r\n                 const errors = {...this.state.errors};\r\n                errors.email = ex.response.data;\r\n                this.setState({errors});\r\n             }\r\n         }\r\n     }\r\n    render() { \r\n        return ( \r\n            <form onSubmit = {this.handleSubmit} style = {this.styles}>\r\n                <h1>Register</h1>\r\n                {this.renderInput('email', 'Email')}\r\n                {this.renderInput('password', 'Password')}\r\n                {this.renderInput('username', 'Username')}\r\n                {this.renderButton('Register')}\r\n            </form>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Register;","import { Component } from 'react';\r\nimport {logout} from '../services/authServices';\r\nclass Logout extends Component {\r\n    componentDidMount() {\r\n        logout();\r\n        window.location = '/vidly';\r\n    }\r\n    \r\n    render(){\r\n        return null;\r\n    }\r\n}\r\n \r\nexport default Logout;\r\n","import React, { Component } from 'react';\r\n\r\nclass CustomerForm extends Component {\r\n    state = {  }\r\n    render() {\r\n        return (\r\n            <h1>Customer ID</h1>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CustomerForm;","import React, { Component } from 'react';\r\n\r\nclass CustomerRegister extends Component {\r\n    state = {  }\r\n    render() { \r\n        return ( \r\n            <div>new customer</div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default CustomerRegister;","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { getCurrentUser } from './../../services/authServices';\r\n\r\nconst ProtectedRoute = ({component: Component, render, ...rest}) => {\r\n    return ( \r\n        <Route \r\n        {...rest}\r\n        render = {props =>\r\n            {if(!getCurrentUser()) return <Redirect \r\n                to ={{pathname: '/login',\r\n                    state: {from: props.location}\r\n                }} />\r\n            return Component?<Component {...props} user = {getCurrentUser()} />:render(props)\r\n          }\r\n          } />\r\n     );\r\n}\r\n \r\nexport default ProtectedRoute;","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport {ToastContainer} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport NavBar from './components/navbar';\r\nimport Movies from './components/movies';\r\nimport Customers from './components/customers';\r\nimport Rentals from './components/rentals';\r\nimport notFound from './components/notfound';\r\nimport MovieForm from './components/movieform';\r\nimport LoginForm from './components/loginform';\r\nimport Register from './components/registerForm';\r\nimport Logout from './components/logout';\r\nimport CustomerForm from './components/customerForm';\r\nimport CustomerRegister from './components/customerRegister';\r\nimport { getCurrentUser } from './services/authServices';\r\nimport ProtectedRoute from './components/common/protectedRoute';\r\n\r\n\r\nclass App extends Component {\r\n  state = {};\r\n  componentDidMount() {\r\n    const user = getCurrentUser();\r\n    this.setState({user});\r\n  }\r\n  render(){\r\n    const {user} = this.state;\r\n  return (\r\n    <div className = 'container'>\r\n        <ToastContainer />\r\n        <NavBar user = {user}/>\r\n      <div className = 'content'>\r\n        <Switch>\r\n          <Route path = '/login' component = {LoginForm} />\r\n          <Route path = '/logout' component = {Logout} />\r\n          <ProtectedRoute path = '/register' component = {Register} />\r\n          <ProtectedRoute path = '/customers/new' component = {CustomerRegister} />\r\n          <ProtectedRoute path = '/customers/:id' component = {CustomerForm} />\r\n          <ProtectedRoute path = '/customers' component = {Customers} />\r\n          <ProtectedRoute path = '/rentals' component = {Rentals} />\r\n          <ProtectedRoute path = '/movies/new' component = {MovieForm}/>\r\n          <Route path = '/movies/:movieid' render = {props => <MovieForm {...props} user = {user} />} />\r\n          <Route path = '/movies' render = {props=><Movies {...props} user= {user} />} />\r\n          <Route path = '/vidly' exact render = {props=><Movies {...props} user= {user} />} />\r\n          <Route path = '/' exact render = {props=><Movies {...props} user= {user} />} />\r\n          <Route path = '/notfound' component = {notFound} />\r\n          <Redirect to ='/notfound' />\r\n        </Switch>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'font-awesome/css/font-awesome.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <App />\r\n  </HashRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}