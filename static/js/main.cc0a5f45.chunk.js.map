{"version":3,"sources":["components/navbar.jsx","services/httpServices.js","services/moviesServices.js","services/genresServices.js","components/common/pagination.jsx","components/common/listGenres.jsx","components/common/config.jsx","components/tableHeader.jsx","components/common/likeComponent.jsx","components/tableBody.jsx","components/moviesTable.jsx","components/common/searchbox.jsx","components/movies.jsx","components/customer.jsx","components/rentals.jsx","components/notfound.jsx","components/common/input.jsx","components/common/groupselect.jsx","components/common/form.jsx","components/movieform.jsx","services/authServices.js","components/loginform.jsx","services/userServices.js","components/registerForm.jsx","components/logout.jsx","components/common/protectedRoute.jsx","App.js","serviceWorker.js","index.js"],"names":["NavBar","props","user","className","href","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","to","Fragment","name","axios","interceptors","response","use","error","status","toast","Promise","reject","get","post","put","delete","setJwt","jwt","defaults","headers","common","getMovies","http","config","apiEndpoint","getMovie","movieid","deleteMovie","saveMovie","movie","_id","getGenres","Pagination","pagecount","currentpage","onClick","pages","i","push","map","p","key","ListGenres","genres","selectedgenre","genre","style","cursor","colums","path","label","TableHeader","raiseSort","sortpath","order","onSort","renderSortIcon","colum","renderCheckbox","onChange","onDeleteAll","checked","deleteall","deletedmovies","length","onDeleteMulti","this","color","isAdmin","colSpan","scope","Component","Like","isLike","TableBody","extraColums1","content","value","onCheck","includes","extraColums","onLike","onDelete","filter","c","renderCell","linkto","title","_","movies","MoviesTable","SearchBox","e","currentTarget","placeholder","Movies","state","searchQuery","deletedMovies","handleDelete","a","originalMovies","setState","alert","handleLike","currentMovie","index","indexOf","handlePageChang","paginate","sindex","slice","handleGenreChange","filterMovie","filteringmovies","filtered","toLowerCase","orderBy","handleSort","getPageCount","data","Math","trunc","handleMovieSelected","history","handleSearch","query","handleCheck","m","handelDeleteAll","handleDeleteMulti","allMovies","filteredMovies","totalPage","itemCount","marginTop","marginBottom","itemcount","Customers","location","Rentals","notFound","Input","rest","htmlFor","GroupSelect","items","disabled","item","Form","styles","maxWidth","margin","validate","Joi","schema","abortEarly","details","message","reduce","obj","handleSubmit","preventDefault","result","errors","Object","keys","doSubmit","validateProperty","input","handleChange","errorMessage","renderButton","renderInput","readonly","readOnly","renderGroupSelect","MovieForm","genreId","numberInStock","dailyRentalRate","any","string","required","number","min","max","match","params","replace","onSubmit","login","email","password","console","log","localStorage","setItem","getCurrentUser","getItem","jwtDecode","LoginForm","username","window","from","pathname","register","Register","Logout","removeItem","ProtectedRoute","component","render","App","exact","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.cc0a5f45.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NavBar = props => {\r\n    const {user} = props;\r\n    return ( \r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\r\n        <a className=\"navbar-brand\" href=\"#\">Vidly</a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n            <div className=\"navbar-nav\">\r\n                <Link className=\"nav-item nav-link\" to =\"/movies\">Movies</Link>\r\n                <Link className=\"nav-item nav-link\" to =\"/customers\">Customers</Link>\r\n                <Link className = 'nav-item nav-link' to='rentals'>Rentals</Link>\r\n                {user&&\r\n                <React.Fragment>\r\n                <Link className=\"nav-item nav-link\" to =\"/profile\">{user.name}</Link>\r\n                <Link className=\"nav-item nav-link\" to =\"/logout\">Logout</Link>\r\n                </React.Fragment>}\r\n                {(!user)&&\r\n                <React.Fragment>\r\n                <Link className=\"nav-item nav-link\" to =\"/login\">Login</Link>\r\n                <Link className=\"nav-item nav-link\" to =\"/register\">Register</Link>\r\n                </React.Fragment>}\r\n            </div>\r\n        </div>\r\n        </nav>\r\n     );\r\n}\r\n \r\nexport default NavBar;","import axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\n\r\naxios.interceptors.response.use(null, error=>{\r\n    const ex = error.response&&\r\n    error.response.status>=400&& \r\n    error.response.status<500;\r\n    if(!ex){\r\n      toast.error('unexpected error occured');\r\n    }\r\n    return Promise.reject(error);\r\n  \r\n  })\r\nfunction setJwt(jwt) {\r\n  axios.defaults.headers.common['x-auth-token'] = jwt;\r\n}\r\nexport default {\r\n    get: axios.get,\r\n    post: axios.post,\r\n    put: axios.put,\r\n    delete: axios.delete,\r\n    setJwt\r\n}","import http from './httpServices';\r\nimport config from '../config/config.json';\r\n\r\nexport const getMovies=  ()=>{\r\n    return  http.get(config.apiEndpoint+'movies');\r\n}\r\nexport const getMovie = movieid =>{\r\n    return http.get(config.apiEndpoint+'movies/'+ movieid);\r\n}\r\nexport const deleteMovie= movieid =>{\r\n    return http.delete(config.apiEndpoint +'movies/'+ movieid);\r\n}\r\nexport const saveMovie = movie=>{\r\n    const movieid = movie._id;\r\n    delete movie._id;\r\n    if(movieid!=='') {\r\n        return http.put(config.apiEndpoint+'movies/'+movieid, movie);\r\n    }\r\n    return http.post(config.apiEndpoint + 'movies', movie);\r\n\r\n}","import http from './httpServices';\r\nimport config from '../config/config.json';\r\n\r\nexport default function getGenres() {\r\n    return http.get(config.apiEndpoint+'genres');\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nconst Pagination = ({pagecount,currentpage,onClick}) => {\r\n    if (pagecount ===1) return null;\r\n    const pages = [];\r\n    for(let i = 0; i<pagecount; i++) pages.push(i+1);\r\n    return (\r\n        <nav aria-label=\"...\">\r\n        <ul className=\"pagination\">\r\n            {pages.map(p =><li \r\n            onClick = {()=>onClick(p)} \r\n            key = {p} \r\n            className = {p===currentpage?\r\n            'page-item active':'page-item'}>\r\n                <a className=\"page-link\">{p}</a></li>)}\r\n        </ul>\r\n        </nav>\r\n      );\r\n}\r\nPagination.propTypes={\r\n    pagecount: PropTypes.number.isRequired,\r\n    currentpage: PropTypes.number.isRequired,\r\n    onClick: PropTypes.func.isRequired\r\n}\r\nexport default Pagination;","import React from 'react';\r\n\r\nconst ListGenres = props=>{\r\n    const {genres, selectedgenre, onClick} = props;\r\n    return(\r\n        <ul className=\"list-group\">\r\n            {genres.map(genre=> \r\n            <li \r\n            key = {genre._id}\r\n            onClick = {()=>onClick(genre)} \r\n            style ={{cursor: 'pointer'}}\r\n            className ={genre._id===selectedgenre._id? \r\n            'list-group-item active': 'list-group-item'}>{genre.name}</li>)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default ListGenres;","export const colums = [\r\n    {key: 'Check'},\r\n    {path: 'title', label: 'Title'},\r\n    {path: 'genre.name', label: 'Genre'},\r\n    {path: 'numberInStock', label: 'Stock'},\r\n    {path: 'dailyRentalRate', label: 'Rate'},\r\n    {key: 'Like'},\r\n    {key: 'Delete'}\r\n\r\n];\r\nexport const movieNumOfPage=6;","import React, { Component } from 'react';\r\nclass TableHeader extends Component {\r\n    raiseSort = path=>{\r\n        let sortpath = {...this.props.sortpath};\r\n        let order = 'asc';\r\n        if(path===sortpath.path) order= sortpath.order==='asc'?'desc':'asc';\r\n        sortpath = {path, order};\r\n         this.props.onSort(sortpath);\r\n    }\r\n    renderSortIcon=colum=>{\r\n        const {sortpath} = this.props;\r\n        if(colum.path!==sortpath.path) return null;\r\n        if(sortpath.order==='asc') return <i className=\"fa fa-sort-asc\"></i>;\r\n        return <i className=\"fa fa-sort-desc\"></i>;\r\n    }\r\n    renderCheckbox = ()=>{\r\n        return <div><input \r\n        onChange = {this.props.onDeleteAll} \r\n        checked = {this.props.deleteall}\r\n        type = 'checkbox'/>{(this.props.deletedmovies.length!==0)\r\n            &&<i onClick = {this.props.onDeleteMulti} className=\"fa fa-trash btn\"></i>}</div>;\r\n    }\r\n    render() { \r\n        const {user} = this.props;\r\n        return ( \r\n            <thead className = 'bg-primary ' style = {{color: 'white'}}>\r\n                {(user&&user.isAdmin)&&<tr className = \"bg-light\"><th colSpan = {this.props.colums.length}>{this.renderCheckbox()}</th></tr>}\r\n                <tr>\r\n                    {this.props.colums.map(\r\n                        colum => <th \r\n                        style = {{cursor:\"pointer\"}} \r\n                        onClick ={()=>this.raiseSort(colum.path)}\r\n                        key = {colum.path||colum.key} \r\n                        scope = 'col'>{colum.label}\r\n                        {this.renderSortIcon(colum)}\r\n                        </th>)}\r\n                </tr>\r\n            </thead>\r\n         );\r\n    }\r\n}\r\n \r\nexport default TableHeader;","import React from 'react';\r\nconst Like = ({movie,onClick}) => {\r\n    \r\n    return ( \r\n        <React.Fragment>\r\n            <i onClick = {()=>onClick(movie)} className={movie.isLike?\"fa fa-heart btn\":\"fa fa-heart-o btn\"}></i>\r\n        </React.Fragment>\r\n     );\r\n}\r\n \r\nexport default Like;","import React, { Component } from 'react';\r\nimport _ from 'lodash';\r\nimport Like from './common/likeComponent';\r\nimport * as config from './common/config';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass TableBody extends Component {\r\n    user = this.props.user;\r\n    extraColums1 = {\r\n        key: 'Checkbox',\r\n        content: movie => this.user&&this.user.isAdmin?\r\n        <input \r\n        value = {movie._id}\r\n        onChange = {this.props.onCheck} \r\n        type = 'checkbox' \r\n        checked = {this.props.deletedmovies.includes(movie._id)?true:false}/>\r\n        : null\r\n    }\r\n    extraColums = [\r\n        {key: 'Like', \r\n        content: movie=> \r\n        <Like onClick = {this.props.onLike} \r\n        movie = {movie}/>},\r\n        {key: 'Delete', \r\n        content: movie=> this.user&&this.user.isAdmin?\r\n        <button \r\n        onClick = {()=>this.props.onDelete(movie._id)} \r\n        className = 'btn btn-danger'>Delete</button>\r\n        :null}\r\n    ];\r\n    colums = [{...this.extraColums1},\r\n        ...config.colums\r\n        .filter(c=>c.path),\r\n        ...this.extraColums];\r\n    \r\n    renderCell=(movie, colum)=>{\r\n        if(colum.path) {\r\n            if(colum.path === 'title') {\r\n                const linkto = '/movies/'+movie._id;\r\n                return <Link to = {linkto}>{movie.title}</Link>}\r\n            return _.get(movie, colum.path)};\r\n        if(colum.content) {\r\n            return colum.content(movie)};\r\n\r\n    }\r\n\r\n    render() { \r\n        const {movies} = this.props;\r\n        return ( \r\n            <tbody>\r\n                {movies.map(movie =>\r\n                    <tr key = {movie._id}> \r\n                        {this.colums.map(colum=>\r\n                            <td key = {movie._id+(colum.path||colum.key)}>{this.renderCell(movie, colum)}</td>\r\n                            )}\r\n                    </tr>)}\r\n            </tbody>\r\n         );\r\n    }\r\n}\r\n \r\nexport default TableBody;","import React from 'react';\r\nimport TableHeader from './tableHeader';\r\nimport * as config from './common/config';\r\nimport TableBody from './tableBody';\r\n\r\nconst MoviesTable =props=> {\r\n    const { movies,onDelete, onLike, onSort, sortpath, onCheck, deletedmovies, deleteall, onDeleteAll, onDeleteMulti, user} = props;\r\n        return ( \r\n            <table className=\"table table-striped\">\r\n                <TableHeader\r\n                colums = {config.colums}\r\n                onSort = {onSort}\r\n                sortpath = {sortpath} \r\n                deletedmovies = {deletedmovies}\r\n                onDeleteAll = {onDeleteAll}\r\n                deleteall = {deleteall}\r\n                onDeleteMulti = {onDeleteMulti}\r\n                user = {user}\r\n                /> \r\n\r\n                <TableBody\r\n                movies = {movies}\r\n                onDelete = {onDelete}\r\n                onLike = {onLike}\r\n                onCheck = {onCheck}\r\n                deleteall = {deleteall}\r\n                deletedmovies = {deletedmovies}\r\n                user = {user}\r\n                    />\r\n            </table>\r\n         );        \r\n}\r\n \r\nexport default MoviesTable;\r\n","import React, { Component } from 'react';\r\n\r\nclass SearchBox extends Component {\r\n    render() { \r\n        const {value, onChange} = this.props;\r\n        return ( \r\n            <input \r\n            type=\"text\" \r\n            value = {value}\r\n            onChange = {e=>onChange(e.currentTarget.value)}\r\n            placeholder = 'Search...'\r\n            className=\"form-control my-3\"/>\r\n         );\r\n    }\r\n}\r\n \r\nexport default SearchBox;","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport _ from 'lodash';\r\nimport { deleteMovie, getMovies } from '../services/moviesServices';\r\nimport getGenres from '../services/genresServices';\r\nimport Pagination from './common/pagination';\r\nimport ListGenres from './common/listGenres';\r\nimport * as config from './common/config';\r\nimport MoviesTable from './moviesTable';\r\nimport SearchBox from './common/searchbox';\r\n\r\nclass Movies extends Component {\r\n    state = { movies:[],\r\n            genres: [],\r\n            selectedgenre:{name: \"All Genres\" },\r\n            currentpage: 1,\r\n            sortpath: {path: 'title', order: 'asc'},\r\n            searchQuery: '',\r\n            deletedMovies: [],\r\n            deleteall: false,};\r\n            \r\n\r\n    async componentDidMount(){\r\n        const {data: movies} = await getMovies();\r\n        const {data} = await getGenres();\r\n        this.setState({movies, genres: [{_id: '', name: 'All Genres'},...data]});\r\n    }\r\n    handleDelete = async movieid=>{\r\n        const originalMovies = this.state.movies;\r\n        const movies = originalMovies.filter(movie => movie._id!== movieid);\r\n        this.setState({movies});\r\n        try{\r\n\r\n            await deleteMovie(movieid);\r\n        }catch(ex)\r\n        {\r\n            if(ex.response&&ex.response.status===404) alert('The movie has been deleted');\r\n            this.setState({movies: originalMovies});\r\n        }\r\n    }\r\n    handleLike = movie =>{\r\n        const currentMovie ={...movie, isLike: !movie.isLike};\r\n        const movies = [...this.state.movies];\r\n        const index = movies.indexOf(movie);\r\n        movies[index] = {...currentMovie};\r\n        this.setState({movies});\r\n    }\r\n    handlePageChang = currentpage=>{\r\n        this.setState({currentpage});\r\n    }\r\n    paginate=(movies,currentpage)=>{\r\n        const sindex = config.movieNumOfPage*(currentpage-1);\r\n        return movies.slice(sindex, sindex+config.movieNumOfPage);\r\n     \r\n    }\r\n    handleGenreChange = genre=>{\r\n        this.setState({selectedgenre: genre, searchQuery: \"\", currentpage: 1, sortpath: {path: 'title', order: 'asc'}});\r\n    }\r\n    filterMovie=()=>{\r\n        const {movies: filteringmovies, selectedgenre: genre, sortpath} = this.state;\r\n        const {path, order} = sortpath;\r\n        const {searchQuery} = this.state;\r\n        const filtered = searchQuery? \r\n        filteringmovies.filter(movie => \r\n            movie.title.toLowerCase()\r\n            .includes(searchQuery.toLowerCase())) : filteringmovies;\r\n        \r\n        if(!genre._id) return _.orderBy(filtered,[path],[order])\r\n        \r\n        return _.orderBy(\r\n            filtered\r\n            .filter(movie => movie.genre._id === genre._id ),\r\n            [path],\r\n            [order]);\r\n    }\r\n    handleSort=sortpath=>{\r\n        this.setState({sortpath})\r\n    }\r\n\r\n    getPageCount= data=>{\r\n        return data.length%config.movieNumOfPage!==0? \r\n        Math.trunc(data.length/config.movieNumOfPage) + 1 \r\n        :data.length/config.movieNumOfPage ;\r\n    }\r\n    handleMovieSelected=movieid=>{\r\n        this.props.history.push('/movies/' + movieid);\r\n    }\r\n    handleSearch = query=>{\r\n        this.setState({searchQuery: query, selectedgenre: {name: \"All Genres\" }, currentpage: 1});\r\n\r\n    }\r\n    handleCheck = ({currentTarget})=>{\r\n        let deletedMovies = [...this.state.deletedMovies];\r\n        if(currentTarget.checked) {\r\n            deletedMovies.push(currentTarget.value);\r\n        }else {\r\n               deletedMovies = deletedMovies.filter(m=>m !== currentTarget.value);\r\n               this.setState({deleteall: false})\r\n        }\r\n        this.setState({deletedMovies});\r\n    }\r\n    handelDeleteAll= async ({currentTarget})=>{\r\n        let deletedMovies = [];\r\n        const deleteall = currentTarget.checked;\r\n        const {data} = await getMovies();\r\n        if(deleteall) deletedMovies = data.map(m => m._id)\r\n        this.setState({deleteall, deletedMovies});\r\n    }\r\n    handleDeleteMulti = ()=>{\r\n        let movies = [...this.state.movies];\r\n        const deletedMovies = [...this.state.deletedMovies];\r\n        movies = movies.filter(m =>!deletedMovies.includes(m._id));\r\n        this.setState({movies, deletedMovies: []});\r\n\r\n    }\r\n    render() { \r\n        const {movies: allMovies, currentpage, genres, selectedgenre, sortpath, searchQuery, deletedMovies, deleteall} = this.state;\r\n        const filteredMovies = this.filterMovie(allMovies, selectedgenre, sortpath);\r\n        const totalPage = this.getPageCount(filteredMovies);\r\n        const itemCount = filteredMovies.length;\r\n        const movies = this.paginate(filteredMovies,currentpage);\r\n        const {user} = this.props;\r\n        return ( \r\n                <div className=\"row\">\r\n                <div className=\"col-2 my-3\">\r\n                    <ListGenres \r\n                    genres = {genres}\r\n                    selectedgenre = {selectedgenre}\r\n                    onClick = {this.handleGenreChange}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"col\">\r\n                    {user&&<Link to = '/movies/new' className = 'btn btn-primary' style = {{marginTop: '20px', marginBottom: '20px'}}>New Movie</Link>}\r\n                    {itemCount===0?<p>There are no movies in database</p>:<p>Showing {itemCount} movie(s) in database</p>}\r\n                    <SearchBox \r\n                    value = {searchQuery}\r\n                    onChange = {this.handleSearch}/>\r\n                    {(itemCount!==0)&&<MoviesTable \r\n                    itemcount = {itemCount}\r\n                    movies = {movies}\r\n                    onDelete = {this.handleDelete}\r\n                    onLike = {this.handleLike}\r\n                    onSort = {this.handleSort}\r\n                    sortpath = {sortpath}\r\n                    onCheck = {this.handleCheck}\r\n                    deletedmovies = {deletedMovies}\r\n                    onDeleteAll = {this.handelDeleteAll}\r\n                    deleteall = {deleteall}\r\n                    onDeleteMulti = {this.handleDeleteMulti}\r\n                    user = {user}\r\n                    />}\r\n               \r\n                    {(itemCount!==0)&&<Pagination \r\n                    pagecount = {totalPage}\r\n                    currentpage = {currentpage}\r\n                    onClick = {this.handlePageChang}\r\n                    />}\r\n                </div>\r\n                </div>\r\n         );\r\n    }\r\n}\r\n\r\nexport default Movies;","import React from 'react';\r\n\r\nconst Customers = ({history, location}) => {\r\n\r\n    return ( \r\n        <div className=\"content\">\r\n            <h1>Customers</h1>\r\n            <button onClick = {()=>history.push('/movies')} className = 'btn btn-primary'>return</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Customers;","import React from 'react';\r\n\r\nconst Rentals = props => {\r\n    return ( \r\n        <div className=\"content\">\r\n            <h1>Rentals</h1>\r\n            <button onClick = {()=>props.history.push('/movies')} className = 'btn btn-primary'>return</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Rentals;","import React from 'react';\r\n\r\nconst notFound = props => {\r\n    return ( \r\n        <div className=\"content\">\r\n            <h1>Not Found</h1>\r\n            <button onClick ={()=> props.history.push('/movies')} className=\"btn btn-primary\">Return</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default notFound;","import React from 'react';\r\n\r\nconst Input = ({name, label, error, ...rest}) => {\r\n    return ( \r\n        <div className=\"form-group\">\r\n            <label htmlFor={name}>{label}</label>\r\n            <input \r\n            name = {name}\r\n            id = {name}\r\n            {...rest}\r\n            className=\"form-control\"/>\r\n            {error&&<div className=\"alert alert-danger\">{error}</div>}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Input;","import React from 'react';\r\n\r\nconst GroupSelect = ({items, label, error, onChange, disabled, ...rest}) => {\r\n    return ( \r\n        \r\n        <div className=\"form-group\">\r\n        <label htmlFor=\"inputGroupSelect\">{label}</label>\r\n        <select \r\n        className=\"custom-select\" \r\n        id=\"inputGroupSelect\"\r\n        onChange = {onChange}\r\n        disabled = {disabled}\r\n        {...rest}>\r\n            <option value=''>Choose...</option>\r\n            {items.map(item=> <option\r\n            key = {item._id}\r\n            value = {item._id}\r\n            >{item.name}</option>)}\r\n        </select>\r\n        {error&& <div className=\"alert alert-danger\">{error}</div> }\r\n        </div>        \r\n     );\r\n}\r\n \r\nexport default GroupSelect;","import React, {Component} from 'react';\r\nimport Input from './input';\r\nimport Joi from 'joi-browser';\r\nimport GroupSelect from './groupselect';\r\n\r\nclass Form extends Component {\r\n    state = {  }\r\n    styles = {\r\n        maxWidth: \"400px\", \r\n        margin: \"auto\"};\r\n    validate = ()=>{\r\n        const data = {...this.state.data};\r\n        const option = {abortEarly: false};\r\n        const {error} = Joi.validate(data, this.schema, option);\r\n        if(error)\r\n        return error.details\r\n                .map(e=> ({[e.path[0]]:e.message}))\r\n                .reduce((obj, e)=> ({...obj, ...e}));\r\n        else\r\n            return null;\r\n    }\r\n    handleSubmit= e=>{\r\n        e.preventDefault();\r\n        const result = this.validate();\r\n        const errors = !result?{}:result;\r\n        this.setState({errors}); \r\n        if (Object.keys(errors).length!==0) return;\r\n        this.doSubmit();\r\n    }\r\n    validateProperty = input=> {\r\n        const {name, value} = input;\r\n        const obj = {[name]: value};\r\n        const schema = {[name]: this.schema[name]};\r\n        const {error} = Joi.validate(obj, schema);\r\n        return error? error.details[0].message : null;\r\n    }\r\n    handleChange = ({currentTarget: input})=>{\r\n        const errors = {...this.state.errors};\r\n        const {name} = input;\r\n        const errorMessage = this.validateProperty(input);\r\n        if(errorMessage) errors[name] = errorMessage\r\n        else delete errors[name];\r\n\r\n        const data = {...this.state.data};\r\n        data[input.name] = input.value;\r\n        this.setState({data, errors});\r\n    }\r\n    renderButton = label=>{\r\n        return <button \r\n            disabled = {this.validate()} \r\n            className=\"btn btn-primary\">{label}</button>\r\n    }\r\n    renderInput =(name, label, type = 'text', readonly = false)=>{\r\n        const {data, errors} = this.state;\r\n        return <Input \r\n        type = {type}\r\n        name = {name}\r\n        value = {data[name]}\r\n        label = {label}\r\n        onChange = {this.handleChange}\r\n        error = {errors[name]}\r\n        readOnly = {readonly}\r\n        />\r\n    }\r\n    renderGroupSelect = (items, name, label, disabled) =>{\r\n        return <GroupSelect \r\n        items = {items}\r\n        name = {name}\r\n        label = {label}\r\n        value = {this.state.data[name]}\r\n        error= {this.state.errors[name]}\r\n        onChange = {this.handleChange}\r\n        disabled = {disabled}\r\n        />\r\n    }\r\n}\r\n \r\nexport default Form;","import React from 'react';\r\nimport Form from './common/form';\r\nimport {getMovie, saveMovie} from '../services/moviesServices';\r\nimport Joi from 'joi-browser';\r\nimport getGenres from '../services/genresServices';\r\n\r\n\r\nclass MovieForm extends Form {\r\n    state = {\r\n        data:{\r\n            _id: '',\r\n            title: '',\r\n            genreId: '',\r\n            numberInStock: '',\r\n            dailyRentalRate: ''\r\n        },\r\n        errors: {},\r\n    }\r\n    schema = {\r\n        _id: Joi.any(),\r\n        title:Joi.string().required().label('Title'),\r\n        genreId:Joi.string().required().label('Genre'),\r\n        numberInStock:Joi.number().min(0).required().label('Stock'),\r\n        dailyRentalRate:Joi.number().min(1).max(10).required().label('Rate'),\r\n    }\r\n    genres = [];\r\n    doSubmit=async ()=>{\r\n        try {\r\n            await saveMovie(this.state.data);\r\n            this.props.history.push('/movies');\r\n        }catch(ex)\r\n        {\r\n            if(ex.response && (ex.response.status>=400&&ex.response.status<500)) alert('something wrong');\r\n        }\r\n    }\r\n    async componentDidMount(){\r\n        const {movieid} = this.props.match.params;\r\n        const {data: result} = await getGenres();\r\n        this.genres = result;\r\n        if(movieid) {\r\n            const {data:result} = {...await getMovie(movieid)};\r\n            let data = {...result};\r\n            if(Object.keys(data).length===0) return this.props.history.replace('/notfound'); \r\n            data.genreId = data.genre._id;\r\n            delete data.genre;\r\n            this.setState({data });\r\n        }\r\n    }\r\n    render() { \r\n        const {user} = this.props;\r\n        return ( \r\n            <form onSubmit = {this.handleSubmit} style = {this.styles}>\r\n                <h1>Movie Form</h1>\r\n                {this.renderInput('title', 'Title','text',!user)}\r\n                {this.renderGroupSelect(this.genres,'genreId','Genre', !user)}\r\n                {this.renderInput('numberInStock', 'Stock','text',!user)}\r\n                {this.renderInput('dailyRentalRate', 'Rate','text',!user)}\r\n                {user&&this.renderButton('Save')}\r\n            </form>\r\n         );\r\n    }\r\n}\r\n \r\nexport default MovieForm;","import http from './httpServices';\r\nimport config from '../config/config.json';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst tokenKey = 'token';\r\nconst apiEndpoint = config.apiEndpoint + 'auth';\r\nexport async function login(email, password) {\r\n    const {data:jwt} = await http.post(apiEndpoint, {email, password});\r\n    console.log(jwt);\r\n    localStorage.setItem(tokenKey, jwt);\r\n}\r\nexport function logout() {\r\n    localStorage.removeItem(tokenKey);\r\n}\r\n\r\nexport function getCurrentUser() {\r\n    try {\r\n        const jwt = localStorage.getItem(tokenKey);\r\n        return jwtDecode(jwt);\r\n    }catch{}\r\n}\r\n\r\nexport function getJwt() {\r\n    return localStorage.getItem(tokenKey);\r\n}\r\nhttp.setJwt(getJwt());","import React from 'react';\r\nimport Form from './common/form';\r\nimport Joi from 'joi-browser';\r\nimport { login, getCurrentUser } from './../services/authServices';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass LoginForm extends Form {\r\n    state = {\r\n        data: {username: '', password: ''},\r\n        errors: {}\r\n    };\r\n    schema = {\r\n        username: Joi.string().required().label('Username'),\r\n        password: Joi.string().required().label('Password')\r\n    };\r\n        \r\n    doSubmit= async ()=>{\r\n        try{\r\n            const {state} = this.props.location;\r\n            const {data} = this.state;\r\n            await login(data.username, data.password);\r\n            window.location = state? state.from.pathname: '/';\r\n        }catch(ex)\r\n        {\r\n            console.log(ex);\r\n            if(ex.response&&ex.response.status===400) {\r\n                const {errors} = this.state;\r\n                errors.username = ex.response.data;\r\n                this.setState({errors});\r\n            }\r\n        }\r\n    }\r\n    render(){\r\n        if(getCurrentUser()) return <Redirect to ='/' />\r\n        return ( \r\n            <div>\r\n                <form onSubmit = {this.handleSubmit} style = {this.styles}>\r\n                    <h1>Login</h1>\r\n                    {this.renderInput('username', 'Username')}\r\n                    {this.renderInput('password', 'Password', 'password')}\r\n                    {this.renderButton('Submit')}\r\n                </form>\r\n            </div>\r\n         );\r\n    }\r\n    \r\n}\r\n \r\nexport default LoginForm;","import http from './httpServices';\r\nimport config from '../config/config.json';\r\n\r\nexport function register(user) {\r\n    return http.post(config.apiEndpoint + 'users', \r\n    {\r\n        email: user.email,\r\n        password: user.password,\r\n        name: user.username\r\n    });\r\n}","import React from 'react';\r\nimport Joi from 'joi-browser';\r\nimport Form from \"./common/form\";\r\nimport { register } from './../services/userServices';\r\n\r\nclass Register extends Form {\r\n    state = { \r\n        data:{\r\n        email:\"\",\r\n        password: \"\",\r\n        username: \"\"},\r\n        errors: {}\r\n     }\r\n     schema = {\r\n         email: Joi.string().email().required().label('Email'),\r\n         password: Joi.string().min(5).required().label('Password'),\r\n         username: Joi.string().required().label('Username')\r\n     }\r\n     doSubmit = async ()=>{\r\n         try{\r\n             const {headers} = await register(this.state.data);\r\n             localStorage.setItem('token', headers[\"x-auth-token\"]);\r\n             window.location = '/';\r\n         }catch(ex)\r\n         {\r\n             if(ex.response&&ex.response.status===400) {\r\n                 const errors = {...this.state.errors};\r\n                errors.email = ex.response.data;\r\n                this.setState({errors});\r\n             }\r\n         }\r\n     }\r\n    render() { \r\n        return ( \r\n            <form onSubmit = {this.handleSubmit} style = {this.styles}>\r\n                <h1>Register</h1>\r\n                {this.renderInput('email', 'Email')}\r\n                {this.renderInput('password', 'Password')}\r\n                {this.renderInput('username', 'Username')}\r\n                {this.renderButton('Register')}\r\n            </form>\r\n         );\r\n    }\r\n}\r\n \r\nexport default Register;","import { Component } from 'react';\r\nimport {logout} from '../services/authServices';\r\nclass Logout extends Component {\r\n    componentDidMount() {\r\n        logout();\r\n        window.location = '/';\r\n    }\r\n    \r\n    render(){\r\n        return null;\r\n    }\r\n}\r\n \r\nexport default Logout;\r\n","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport { getCurrentUser } from './../../services/authServices';\r\n\r\nconst ProtectedRoute = ({component: Component, render, ...rest}) => {\r\n    return ( \r\n        <Route \r\n        {...rest}\r\n        render = {props =>\r\n            {if(!getCurrentUser()) return <Redirect \r\n                to ={{pathname: '/login',\r\n                    state: {from: props.location}\r\n                }} />\r\n            return Component?<Component {...props} user = {getCurrentUser()} />:render(props)\r\n          }\r\n          } />\r\n     );\r\n}\r\n \r\nexport default ProtectedRoute;","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport {Route, Switch, Redirect} from 'react-router-dom';\r\nimport {ToastContainer} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport NavBar from './components/navbar';\r\nimport Movies from './components/movies';\r\nimport Customers from './components/customer';\r\nimport Rentals from './components/rentals';\r\nimport notFound from './components/notfound';\r\nimport MovieForm from './components/movieform';\r\nimport LoginForm from './components/loginform';\r\nimport Register from './components/registerForm';\r\nimport Logout from './components/logout';\r\nimport { getCurrentUser } from './services/authServices';\r\nimport ProtectedRoute from './components/common/protectedRoute';\r\n\r\nclass App extends Component {\r\n  state = {};\r\n  componentDidMount() {\r\n    const user = getCurrentUser();\r\n    this.setState({user});\r\n  }\r\n  render(){\r\n    const {user} = this.state;\r\n  return (\r\n    <div className = 'container'>\r\n        <ToastContainer />\r\n        <NavBar user = {user}/>\r\n      <div className = 'content'>\r\n        <Switch>\r\n          <Route path = '/login' component = {LoginForm} />\r\n          <Route path = '/logout' component = {Logout} />\r\n          <Route path = '/register' component = {Register} />\r\n          <Route path = '/customers' component = {Customers} />\r\n          <Route path = '/rentals' component = {Rentals} />\r\n          {/* <Route path = '/movies/new' render = {props =>\r\n            {if(!user) return <Redirect to ='/login' />\r\n            return <MovieForm {...props} />\r\n          }\r\n          } /> */}\r\n          <ProtectedRoute path = '/movies/new' component = {MovieForm}/>\r\n          <Route path = '/movies/:movieid' render = {props => <MovieForm {...props} user = {user} />} />\r\n          <Route path = '/movies' render = {props=><Movies {...props} user= {user} />} />\r\n          <Route path = '/' exact render = {props=><Movies {...props} user= {user} />} />\r\n          <Route path = '/notfound' component = {notFound} />\r\n          <Redirect to ='/notfound' />\r\n        </Switch>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'font-awesome/css/font-awesome.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <App />\r\n  </HashRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}